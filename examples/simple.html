<!doctype html>
<html>
	<head>
		<title>Simple Snowflake Test</title>
		<script src="../bower_components/almond/almond.js"></script>
		<script src="../bower_components/udefine/dist/udefine.js"></script>
		<script src="../bower_components/mixedice/dist/mixedice.js"></script>
		<script src="../bower_components/eventmap/dist/eventmap.js"></script>
		<script src="../bower_components/animframe/dist/animframe.js"></script>
		<script src="../bower_components/gameboard/dist/gameboard.js"></script>
		<script src="../dist/snowflake.all.js"></script>
		<style>
			body {
				margin: 0;
				background-color: #000;
			}
			
			.game {
				border: 1px solid #ccc;
			}
		</style>
	</head>
	<body>
		
		<script>
			require(['snowflake/renderer/dom', 'snowflake/game'], function(Graphics, Game) {

				new Game(function() {
					
					this.width = 300;
					this.height = 300;
					
					this.addScene(function() {
						
						this.addGameObject(function() {
							var self = this;
							
							this.name = 'myGameObject';
							
							this.texture.image.filename = 'hero_front.png';
							
							this.input.key.on('down', function(keyCode) {
								if (keyCode === this.up || keyCode === this.w) {
									self.y -= 10;
								}
								
								if (keyCode === this.down || keyCode === this.s) {
									self.y += 10;
								}
								
								if (keyCode === this.left || keyCode === this.a) {
									self.x -= 10;
								}
								
								if (keyCode === this.right || keyCode === this.d) {
									self.x += 10;
								}
							});
							
							this.on('update', function(dt) {
								self.angle += (dt * 10);
							});
						});
						
						this.addGameObject(function() {
							this.texture.color = 'rgb(255, 0, 0)';
							
							this.x = 100;
							this.y = 100;
							this.width = 80;
							this.height = 80;
						});
						
						this.addGameObject(function() {
							this.texture.label.text = 'Hello World';
							
							this.top = 8;
							this.right = 8;
						});
					});
					
					this.run();
					
				});
			});
		</script>
	</body>
</html>