{"version":3,"sources":["src/texture/image.js"],"names":[],"mappings":";;;;;;2BAA6B,cAAc;;IAAnC,KAAK,gBAAL,KAAK;IAAE,OAAO,gBAAP,OAAO;IACf,YAAY,2BAAM,4BAA4B;;IAE/C,YAAY;AACL,WADP,YAAY,CACJ,OAAO;0BADf,YAAY;;;AAGd,QAAI,CAAC,KAAK,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;AACjC,QAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AACtB,QAAI,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAChC,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACf,QAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;AAEhB,QAAI,QAAQ,GAAG,EAAE,CAAC;;AAElB,UAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE;AACtC,SAAG,EAAE,YAAY;AACf,eAAO,QAAQ,CAAC;OACjB;AACD,SAAG,EAAE,UAAU,KAAK,EAAE;;AACpB,gBAAQ,GAAG,KAAK,CAAC;;;AAGjB,YAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,WAAG,CAAC,GAAG,GAAG,QAAQ,CAAC;;AAEnB,WAAG,CAAC,MAAM,GAAG,YAAM;AACjB,gBAAK,IAAI,GAAG,GAAG,CAAC;AAChB,gBAAK,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;AACvB,gBAAK,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;AACzB,gBAAK,QAAQ,GAAG,IAAI,CAAC;;AAErB,iBAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;SACjC,CAAC;OACH;AACD,gBAAU,EAAE,IAAI;KACjB,CAAC,CAAC;GACJ;;AAlCG,cAAY,WAoChB,MAAM,GAAA,kBAAG;AACP,WAAO,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GAC/B;;AAtCG,cAAY,WAwChB,QAAQ,GAAA,oBAAG;AACT,WAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;GACjC;;SA1CG,YAAY;;;AA6ClB,YAAY,CAAC,YAAY,CAAC,CAAC;;iBAEZ,YAAY","file":"src/texture/image.js","sourcesContent":["import {Color, Vector2} from 'flockn/types';\nimport serializable from 'flockn/mixins/serializable';\n\nclass TextureImage {\n  constructor(texture) {\n    // The default values for `image`\n    this.color = Color.transparent();\n    this.drawable = false;\n    this.offset = new Vector2(0, 0);\n    this.data = null;\n    this.width = 0;\n    this.height = 0;\n\n    var filename = '';\n\n    Object.defineProperty(this, 'filename', {\n      get: function () {\n        return filename;\n      },\n      set: function (value) {\n        filename = value;\n\n        // TODO: Most of this should already be handled by the preloader\n        var img = new Image();\n        img.src = filename;\n\n        img.onload = () => {\n          this.data = img;\n          this.width = img.width;\n          this.height = img.height;\n          this.drawable = true;\n\n          texture.trigger('image-loaded');\n        };\n      },\n      enumerable: true\n    });\n  }\n\n  toJSON() {\n    return serialize.toJSON(this);\n  }\n\n  toString() {\n    return serialize.toString(this);\n  }\n}\n\nserializable(TextureImage);\n\nexport default TextureImage;\n"]}