{"version":3,"sources":["src/texture/label.js"],"names":[],"mappings":";;;;;;IAAQ,KAAK,WAAO,cAAc,EAA1B,KAAK;IACN,YAAY,2BAAM,4BAA4B;;IAE/C,YAAY,GACL,SADP,YAAY,CACJ,OAAO;wBADf,YAAY;;;AAGd,MAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AACtB,MAAI,CAAC,IAAI,GAAG;AACV,QAAI,EAAE,EAAE;AACR,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,KAAK,CAAC,KAAK,EAAE;AACpB,cAAU,EAAE,EAAE;GACf,CAAC;;AAEF,MAAI,CAAC,KAAK,GAAG;AACX,KAAC,EAAE,QAAQ;AACX,KAAC,EAAE,QAAQ;GACZ,CAAC;AACF,MAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACf,MAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;AAEhB,MAAI,IAAI,GAAG,EAAE,CAAC;;AAEd,QAAM,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;AAClC,OAAG,EAAE,YAAY;AACf,aAAO,IAAI,CAAC;KACb;AACD,OAAG,EAAE,UAAU,KAAK,EAAE;AACpB,UAAI,GAAG,KAAK,CAAC;;;;AAIb,UAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC5C,aAAO,CAAC,SAAS,GAAG,IAAI,CAAC;AACzB,aAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;AACpC,aAAO,CAAC,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC;AAC/B,aAAO,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,CAAC;AAC9B,aAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AAC/C,aAAO,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAC1C,aAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;AAEtC,UAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAA,UAAU,EAAI;AACzC,gBAAQ,UAAU;AAChB,eAAK,MAAM;AACT,mBAAO,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;AAClC,kBAAM;AAAA,AACR,eAAK,QAAQ;AACX,mBAAO,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;AACnC,kBAAM;AAAA,AACR,eAAK,WAAW;AACd,mBAAO,CAAC,KAAK,CAAC,cAAc,GAAG,WAAW,CAAC;AAC3C,kBAAM;AAAA,AACR;AACE,kBAAM;AAAA,SACT;OACF,CAAC,CAAC;;AAEH,cAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;AAEnC,UAAI,CAAC,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC;AACjC,UAAI,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC;AACnC,UAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;AAErB,cAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;AAEnC,aAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;KACjC;GACF,CAAC,CAAC;CACJ;;AAGH,YAAY,CAAC,YAAY,CAAC,CAAC;;iBAEZ,YAAY","file":"src/texture/label.js","sourcesContent":["import {Color} from 'flockn/types';\nimport serializable from 'flockn/mixins/serializable';\n\nclass TextureLabel {\n  constructor(texture) {\n    // Default value for `label`\n    this.drawable = false;\n    this.font = {\n      size: 10,\n      name: 'Arial',\n      color: Color.black(),\n      decoration: []\n    };\n\n    this.align = {\n      x: 'center',\n      y: 'center'\n    };\n    this.width = 0;\n    this.height = 0;\n\n    var text = '';\n\n    Object.defineProperty(this, 'text', {\n      get: function () {\n        return text;\n      },\n      set: function (value) {\n        text = value;\n\n        // Calculate the size of the label and update the dimensions\n        // TODO: This should be handled somewhere else, but I'm not sure where\n        var tmpElem = document.createElement('div');\n        tmpElem.innerText = text;\n        tmpElem.style.position = 'absolute';\n        tmpElem.style.left = '-9999px';\n        tmpElem.style.top = '-9999px';\n        tmpElem.style.fontSize = this.font.size + 'px';\n        tmpElem.style.fontFamily = this.font.name;\n        tmpElem.style.color = this.font.color;\n\n        this.font.decoration.forEach(decoration => {\n          switch (decoration) {\n            case 'bold':\n              tmpElem.style.fontWeight = 'bold';\n              break;\n            case 'italic':\n              tmpElem.style.fontStyle = 'italic';\n              break;\n            case 'underline':\n              tmpElem.style.textDecoration = 'underline';\n              break;\n            default:\n              break;\n          }\n        });\n\n        document.body.appendChild(tmpElem);\n\n        this.width = tmpElem.clientWidth;\n        this.height = tmpElem.clientHeight;\n        this.drawable = true;\n\n        document.body.removeChild(tmpElem);\n\n        texture.trigger('label-loaded');\n      }\n    });\n  }\n}\n\nserializable(TextureLabel);\n\nexport default TextureLabel;\n"]}