udefine("snowflake/graphics/dom",["../graphics"],function(a){return a.init=function(b){a.renderer="DOM",a.container=b},a.on("render",function(a){switch(a){case"GameObject":}}),a}),udefine("snowflake/addable",function(){return function(a,b){return function(){var c=arguments[0],d=2<=arguments.length?[].slice.call(arguments,1):[];c instanceof a||("string"==typeof c?Object.hasOwnProperty.call(store,c)&&(c=new a(a.store[c],d)):c=new a(c,d)),b.push(c),c.parent=this,c.trigger("add")}}}),udefine("snowflake/base",["eventmap","mixedice","./group"],function(a,b,c){var d=function(){b([this,d.prototype],new a);var e=arguments[0],f=arguments[1],g=3<=arguments.length?[].slice.call(arguments,2):[];this.type=e,this.name=this.type+"-"+Date.now(),this.children=new c,this.parent=null,f&&f.apply(this,g),this.trigger("create")};return d}),udefine("snowflake/behavior",["mixedice","./addable","./base","./constructable","./group"],function(a,b,c,d){var e=function(){var b=this;a([this,e.prototype],d(c,"Behavior",arguments)),this.on("update",function(a){b.children.forEach(function(b){b.trigger("update",a)})})};return e.prototype.addBehavior=function(){b(e,this.children).apply(this,arguments)},e.store={},e.define=function(a,b){e.store[a]=b},e}),udefine("snowflake/constructable",function(){return function(a,b,c){var d=Array.isArray(c)?c:[].slice.call(c);d.unshift(b);var e=a.bind.apply(a,d);return new e}}),udefine("snowflake/game",["mixedice","./addable","./base","./constructable","./scene"],function(a,b,c,d,e){var f=function(){a([this,f.prototype],d(c,"Game",arguments))};return f.prototype.addScene=function(){b(e,this.children).apply(this,arguments)},f.prototype.showScene=function(a){this.activeScene=a},f}),udefine("snowflake/gameobject",["mixedice","./addable","./base","./behavior","./constructable","./graphics","./group"],function(a,b,c,d,e,f,g){var h=function(){a([this,h.prototype],e(c,"GameObject",arguments));var b=this;this.x=0,this.y=0,this.parent=null,this.behaviors=new g,this.models=new g,this.on("render",function(){f.trigger("render",b.type,b),b.children.forEach(function(a){a.trigger("render")})}),this.on("update",function(){b.children.forEach(function(a){a.trigger("update")}),b.behaviors.forEach(function(a){a.trigger("update")})})};return h.store={},h.define=function(a,b){h.store[a]=b},h.prototype.addGameObject=function(){b(h,this.children).apply(this,arguments)},h.prototype.addBehavior=function(){b(d,this.behaviors).apply(this,arguments)},h}),udefine("snowflake/graphics",["eventmap"],function(a){var b=new a;return b}),udefine("snowflake/group",[],function(){var a="untitled",b=0,c=function(){this.length=0,this.tags={},this.names={}};return c.prototype.push=function(c,d){var e=c.name||a+b++;return null==d&&(d=c.tags||[]),Object.hasOwnProperty.call(this.names,e)?void 0:(this[this.length]=c,this.tags.forEach(function(a){this.tags[a]=this.tags[a]||[],this.tags[a].push(this.length)},this),this.names[e]=this.length,++this.length)},c.prototype.pop=function(){return this[this.length]},c.prototype.splice=function(){},c.prototype.slice=function(a,b){null==b&&(b=this.length);for(var d=new c,e=a;b>e;e++)d.push(this[e]);return d},c.prototype.forEach=function(a){for(var b=0;b<this.length;b++)a(this[b])},c.prototype.filter=function(a){for(var b=[],c=0;c<this.length;c++)a(this[c])&&b.push(this[c]);return b},c.prototype.byName=function(a){return this[this.names[a]]},c.prototype.byTag=function(a){return this.tags[a].map(function(a){return this[a]},this)},c}),udefine("snowflake/scene",["mixedice","./addable","./base","./constructable","./group","./gameobject"],function(a,b,c,d,e,f){var g=function(){a([this,g.prototype],d(c,"Scene",arguments))};return g.prototype.addGameObject=function(){b(f,this.children).apply(this,arguments)},g.store={},g.define=function(a,b){g.store[a]=b},g});