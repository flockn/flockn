{"version":3,"sources":["src/assets.js","src/audio.js","src/base.js","src/behavior.js","src/constants/color.js","src/game.js","src/gameobject.js","src/graphics/index.js","src/graphics/rootelement.js","src/group.js","src/input/mouse.js","src/mixins/addable.js","src/mixins/index.js","src/mixins/renderable.js","src/mixins/updateable.js","src/model.js","src/scene.js","src/serialize.js","src/texture/image.js","src/texture/index.js","src/texture/label.js","src/types/color.js","src/types/index.js","src/types/rect.js","src/types/vector2.js","src/types/vector3.js","src/utils/checkforflag.js","src/viewport.js","src/world.js"],"names":[],"mappings":"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","file":"dist/files/flockn.js","sourcesContent":["var Assets = {};\n\nexport default Assets;\n","var Audio = {};\n\nAudio.play = function() {\n\n};\n\nexport default Audio;\n","import EventMap from 'eventmap';\n\nimport {Input} from 'gameboard';\n\nimport Audio from 'flockn/audio';\nimport Group from 'flockn/group';\nimport World from 'flockn/world';\n\nvar objectIndex = 0;\n\nvar prependMax = 10000;\n\nvar numToIdString = function(num) {\n  var stringNum = num + '';\n\n  if (num >= prependMax) {\n    return stringNum;\n  } else {\n    var prependLength = (prependMax + '').length - stringNum.length;\n    for (var i = 0; i < prependLength; i++) {\n      stringNum = '0' + stringNum;\n    }\n\n    return stringNum;\n  }\n};\n\nclass Base extends EventMap {\n  constructor(type = 'Base', descriptor = function() {}) {\n    super();\n\n    // Count up `objectIndex` and stringify it\n    var currentObject = numToIdString(++objectIndex);\n\n    this.type = type;\n\n    var internalId = `${this.type}-${Date.now()}-${currentObject}`;\n\n    this.name = internalId;\n\n    // The `id` property is read-only and returns the type and the stringified object index\n    Object.defineProperty(this, 'id', {\n      get: function() {\n        return internalId;\n      },\n      enumerable: true\n    });\n\n    // Save the descriptor\n    this.descriptor = descriptor;\n\n    // Create a new group for all children elements\n    this.children = new Group();\n\n    // Add a queue: All addable elements will be pushed into the queue first and called after everything else in\n    // the `descriptor` has been called\n    this.queue = [];\n\n    this.parent = null;\n\n    // `Input` should be available in instances derived from `Base`\n    this.input = Input;\n\n    // As should `Audio`...\n    this.audio = Audio;\n\n    // ...and `World`\n    this.world = World;\n\n    // Emit an event\n    this.trigger('constructed');\n  }\n\n  apply(args) {\n    // TODO: Reflect if function check should be enforced here\n    if (this.descriptor) {\n      // If args is not an array or array-like, provide an empty one\n      args = args || [];\n\n      // Call the `descriptor` property with `args`\n      this.descriptor.apply(this, args);\n\n      // Trigger an event\n      this.trigger('execute');\n\n      // TODO: Impose an order in the queue, such as:\n      // (Game) -> Scene -> GameObject -> Behavior -> Model\n\n      // TODO: Implement z-order\n      this.queue.forEach(function(q) {\n        q && q();\n      });\n\n      // Reset the queue\n      this.queue = [];\n\n      // Find a way to directly before and after events\n      this.trigger('executed');\n    }\n  }\n\n  call() {\n    // Call `Base#apply` with the arguments object\n    this.apply(arguments);\n  }\n\n  // Alias for `Base#call`\n  reset() {\n    return this.call.apply(this, arguments);\n  }\n\n  closest() {\n\n  }\n\n  find() {\n\n  }\n\n  log() {\n    if (console && console.log) {\n      var argArray = [].slice.call(arguments);\n\n      // Log with `console.log`: Prepend the type and name\n      argArray.unshift(':');\n      argArray.unshift(this.name);\n      argArray.unshift(this.type);\n\n      return console.log.apply(console, argArray);\n    }\n  }\n}\n\nBase.queueOrder = ['Game', 'Scene', 'GameObject', 'Behavior', 'Model'];\n\nexport default Base;\n","import Base from 'flockn/base';\nimport Group from 'flockn/group';\n\nimport {addable, updateable} from 'flockn/mixins';\n\n\n// Behaviors only provide logic. There is no rendering involved.\n// Behaviors can attach any number of behaviors to itself\nclass Behavior extends Base {\n  constructor(descriptor) {\n    super('Behavior', descriptor);\n\n    // Reference to the game object itself\n    this.gameObject = null;\n\n    // Mix in `updateable`\n    updateable.call(this);\n  }\n\n  addBehavior() {\n    // When a behavior is added, the reference to the game object is set\n    this.queue.push(addable(Behavior, this.children, function(child) {\n      child.gameObject = this.gameObject;\n    }).apply(this, arguments));\n  }\n\n  removeBehavior() {\n\n  }\n\n  static define(name, factory) {\n    Behavior.store[name] = factory;\n  }\n}\n\n// Behaviors can be defined and are stored on the object itself\nBehavior.store = {};\n\nexport default Behavior;\n","var colors = {\n  aqua: {\n    r: 0,\n    g: 255,\n    b: 255\n  },\n  black: {\n    r: 0,\n    g: 0,\n    b: 0\n  },\n  blue: {\n    r: 0,\n    g: 0,\n    b: 255\n  },\n  fuchsia: {\n    r: 255,\n    g: 0,\n    b: 255\n  },\n  gray: {\n    r: 128,\n    g: 128,\n    b: 128\n  },\n  green: {\n    r: 0,\n    g: 128,\n    b: 0\n  },\n  lime: {\n    r: 0,\n    g: 255,\n    b: 0\n  },\n  maroon: {\n    r: 128,\n    g: 0,\n    b: 0\n  },\n  navy: {\n    r: 0,\n    g: 0,\n    b: 128\n  },\n  olive: {\n    r: 128,\n    g: 128,\n    b: 0\n  },\n  purple: {\n    r: 128,\n    g: 0,\n    b: 128\n  },\n  red: {\n    r: 255,\n    g: 0,\n    b: 0\n  },\n  silver: {\n    r: 192,\n    g: 192,\n    b: 192\n  },\n  teal: {\n    r: 0,\n    g: 128,\n    b: 128\n  },\n  white: {\n    r: 255,\n    g: 255,\n    b: 255\n  },\n  yellow: {\n    r: 255,\n    g: 255,\n    b: 0\n  },\n  transparent: {\n    r: 0,\n    g: 0,\n    b: 0,\n    a: 0\n  }\n};\n\nexport default colors;\n","import * as Loop from 'gameboard/loop';\n\nimport Base from 'flockn/base';\nimport Graphics from 'flockn/graphics';\nimport Scene from 'flockn/scene';\nimport Color from 'flockn/types/color';\nimport Viewport from 'flockn/viewport';\n\nimport {addable, renderable, updateable} from 'flockn/mixins';\n\nvar root = window;\n\n// Game is the entry point for all games made with flockn.\n// Any number of `Scene` instances can be attached to a `Game` instance\nclass Game extends Base {\n  constructor(descriptor) {\n    // The new operator does not need to be set explicitly.\n    // If it isn't we return an instance of `Game`\n    if (!this || !this instanceof Game) {\n      return new Game(descriptor);\n    }\n\n    // Extend the `Base` class\n    super('Game', descriptor);\n\n    // `this.container` is a string, which is the id of the element.\n    // If it's not given, it should create a new element. This should be handled by the renderer.\n    this.container = null;\n\n    // By default, the width and height of a `Game` instance will be as large as the inside of the browser window.\n    this.width = root.innerWidth;\n    this.height = root.innerHeight;\n    this.color = new Color(255, 255, 255);\n\n    // Set the viewport object\n    this.viewport = Viewport;\n\n    // `this.activeScene` is set to `null` by default, but will change to the instance of the scene\n    // once a scene will be shown\n    this.activeScene = null;\n\n    // A `Game` instance is the root element so the descriptor needs to be called directly,\n    // because it won't be added to anywhere else\n    this.call();\n\n    Graphics.trigger('initialize', this);\n\n    // Mix in `renderable` and `updateable`\n    renderable.call(this);\n    updateable.call(this);\n\n    // Bind the game loop to the `update` event\n    Loop.on('update', (dt) => {\n      // Deltatime should not be a millisecond value, but a second one.\n      // It should be a value between 0 - 1\n      this.trigger('update', dt / 1000);\n    });\n\n    // Bind the game loop to the `render` event\n    Loop.on('render', () => {\n      this.trigger('render');\n    });\n\n    // Add a `resize` event to each `Game` instance\n    root.addEventListener('resize', () => {\n      var newWidth = root.innerWidth;\n      var newHeight = root.innerHeight;\n\n      this.trigger('resize', newWidth, newHeight);\n\n      // Trigger resize event for the current scene\n      var currentScene = this.children.byName(this.activeScene);\n\n      if (currentScene) {\n        currentScene.trigger('resize', root.innerWidth, root.innerHeight);\n      }\n    }, false);\n\n    // Add an `orientationchange` event to each `Game` instance\n    root.addEventListener('orientationchange', () => {\n      this.trigger('orientationchange');\n    }, false);\n  }\n\n  addScene() {\n    // When adding a scene, the dimension of scenes should be\n    // exactly as large as the `Game` instance itself\n    this.queue.push(addable(Scene, this.children, function (child) {\n      child.width = this.width;\n      child.height = this.height;\n    }).apply(this, arguments));\n  }\n\n  showScene(name) {\n    // TODO: Add transitions\n    this.children.forEach(scene => scene.visible = false);\n\n    // Set the `activeScene` property\n    this.activeScene = this.children.byName(name);\n    this.activeScene.visible = true;\n\n    if (this.activeScene) {\n      this.activeScene.trigger('resize', root.innerWidth, root.innerHeight);\n\n      // Trigger the `show` event\n      this.trigger('show', name, this.children[this.activeScene]);\n    }\n  }\n\n  preload(assets) {\n\n  }\n\n  run(name) {\n    this.on('executed', () => {\n      // Start the game loop\n      Loop.run();\n\n      if (!name) {\n        // If there's only no name, take the first scene\n        if (this.children.length >= 1) {\n          name = this.children.first().name;\n        }\n      }\n\n      // Show the scene if a parameter has been specified\n      this.showScene(name);\n    });\n  }\n}\n\nexport default Game;\n","import Base from 'flockn/base';\nimport Behavior from 'flockn/behavior';\nimport Graphics from 'flockn/graphics';\nimport Group from 'flockn/group';\nimport Model from 'flockn/model';\nimport serialize from 'flockn/serialize';\nimport Texture from 'flockn/texture';\n\nimport {Vector2, Vector3, Color, Rect} from 'flockn/types';\n\nimport {addable, renderable, updateable} from 'flockn/mixins';\n\n\nclass GameObject extends Base {\n  constructor(descriptor) {\n    super('GameObject', descriptor);\n\n    this.visible = true;\n\n    this.position = new Vector3();\n\n    this.fitToTexture = true;\n\n    // Create a new texture and bind it to the `texture` property\n    this.texture = new Texture();\n    this.texture.parent = this;\n\n    // Once the image is loaded, update width and height if `fitToTexture` is set\n    this.texture.on('image-loaded', () => {\n      if (this.fitToTexture) {\n        this.width = this.texture.image.width;\n        this.height = this.texture.image.height;\n\n        this.origin.x = (this.width / 2);\n        this.origin.y = (this.height / 2);\n      }\n\n      // TODO: Evaluate if the Graphics trigger should only be in the texture\n      Graphics.trigger('texture-image-loaded', this, this.texture);\n    });\n\n    // Once the label is loaded, update width and height if `fitToTexture` is set\n    this.texture.on('label-loaded', () => {\n      if (this.fitToTexture) {\n        this.width = this.texture.label.width;\n        this.height = this.texture.label.height;\n\n        this.origin.x = (this.width / 2);\n        this.origin.y = (this.height / 2);\n\n        // TODO: Evaluate if the Graphics trigger should only be in the texture\n        Graphics.trigger('texture-label-loaded', this, this.texture);\n      }\n    });\n\n    this.width = 0;\n    this.height = 0;\n\n    this.angle = 0;\n\n    this.alpha = 1;\n\n    this.scale = new Vector2(1, 1);\n\n    this.origin = new Vector2(this.width / 2, this.width / 2);\n\n    this.border = {\n      width: 0,\n      color: new Color(),\n      radius: 0\n    };\n\n    // Add default model\n    var defaultModel = new Model();\n    defaultModel.name = 'default';\n\n    this.addModel(defaultModel);\n\n    // Mix in renderable and updateable\n    renderable.call(this);\n    updateable.call(this);\n  }\n\n  get left() {\n    return this.position.x;\n  }\n\n  set left(value) {\n    this.position.x = value;\n  }\n\n  get top() {\n    return this.position.y;\n  }\n\n  set top(value) {\n    this.position.y = value;\n  }\n\n  get right() {\n    return this.parent.width - this.width - this.position.x;\n  }\n\n  set right(value) {\n    this.position.x = this.parent.width - this.width - value;\n  }\n\n  get bottom() {\n    return this.parent.height - this.height - this.position.y;\n  }\n\n  set bottom(value) {\n    this.position.y = this.parent.height - this.height - value;\n  }\n\n  bounds() {\n    // TODO: Also take care of scale\n    // TODO: Also take care of rotation\n    return new Rect(this.position.x, this.position.y, this.width, this.height);\n  }\n\n  addGameObject() {\n    // Add a game object to this game object\n    this.queue.push(addable(GameObject, this.children).apply(this, arguments));\n  }\n\n  addBehavior() {\n    // Add a `Behavior` instance to the the game object and update the `gameObject` property\n    this.queue.push(addable(Behavior, this.children, function(child) {\n      child.gameObject = this;\n    }).apply(this, arguments));\n  }\n\n  addModel() {\n    // Add a `Model` instance to the game object\n    this.queue.push(addable(Model, this.children).apply(this, arguments));\n  }\n\n  removeGameObject() {\n\n  }\n\n  removeBehavior() {\n\n  }\n\n  removeModel() {\n\n  }\n\n  data(name) {\n    if (!name) {\n      return this.models.byName('default');\n    } else {\n      return this.models.byName(name);\n    }\n  }\n\n  toJSON() {\n    // Serialize this object\n    return serialize(this);\n  }\n\n  animate(property, end, time, callback) {\n    // TODO: Tweening does not work yet\n    if ( typeof this[property] === 'number') {\n      var distance = end - this[property];\n      var timeInS = (time / 1000);\n\n      var animateName = 'animate-' + Date.now();\n      this.on(animateName, function(dt) {\n\n        this.off(animateName);\n      });\n    }\n  }\n\n  toString() {\n    return serialize(this);\n  }\n\n  // Game objects can be defined and are stored on the object itself\n  static define(name, factory) {\n    GameObject.store[name] = factory;\n  }\n\n  static fromString() {\n\n  }\n}\n\nGameObject.store = {};\n\nexport default GameObject;\n","import * as EventMap from 'eventmap';\n\n// `Graphics` is an instance of an `EventMap`\nlet Graphics = new EventMap();\n\n// Special property `renderer` can be modified, but not deleted\nObject.defineProperty(Graphics, 'renderer', {\n  value: null,\n  writable: true,\n  enumerable: true\n});\n\nexport default Graphics;\n","var createRootElement = function createRootElement(elementName, extraFn) {\n  // Sets the container name: If none is given, set the id of the object.\n  // If a `#` is prepended to the string, cut it off\n  var containerName = (function() {\n    if (this.container == null) {\n      this.container = this.id;\n      return this.container;\n    } else {\n      if (this.container.indexOf('#') === 0) {\n        return this.container.slice(1);\n      }\n    }\n  }).call(this);\n\n  // Set the dimensions of the object. If none are given, it should be the inside of the browser's window\n  this.width = this.width || window.innerWidth;\n  this.height = this.height || window.innerHeight;\n\n  // Try to get the HTML element by using `containerName`\n  var rootElement = document.getElementById(containerName);\n\n  // If nothing was found, create the element\n  if (rootElement == null) {\n    var element = document.createElement(elementName);\n    element.id = containerName.toLowerCase();\n    document.body.appendChild(element);\n\n    rootElement = element;\n  }\n\n  rootElement.className = [this.type.toLowerCase(), this.name.toLowerCase()].join(' ');\n\n  // Set the dimensions of the `rootElement`\n  rootElement.style.position = 'absolute';\n  rootElement.style.width = this.width + 'px';\n  rootElement.style.height = this.height + 'px';\n\n  // Allow some extra functionality to happen here.\n  // It should be called on the same context and the\n  // `rootElement` is passed in as a parameter\n  extraFn.call(this, rootElement);\n\n  // Center the element if it's smaller than the inside of the browser's window\n  if (this.width < window.innerWidth) {\n    rootElement.style.left = '50%';\n    rootElement.style.marginLeft = (this.width * (-0.5)) + 'px';\n  }\n\n  if (this.height < window.innerHeight) {\n    rootElement.style.top = '50%';\n    rootElement.style.marginTop = (this.width * (-0.5)) + 'px';\n  }\n\n  // Return the element, in case someone wants to meddle with it\n  return rootElement;\n};\n\nexport default createRootElement;\n","import {Log} from 'gameboard';\n\nvar unidentified = 'untitled';\nvar unidentifiedCounter = 0;\n\nclass Group {\n  constructor() {\n    this.length = 0;\n\n    this.ids = {};\n    this.tags = {};\n    this.names = {};\n    this.types = {};\n  }\n\n  push(obj) {\n    var {name, tags, id} = obj;\n\n    name = name || (unidentified + unidentifiedCounter++);\n    id = id || (unidentified + unidentifiedCounter++);\n    tags = tags || [];\n\n    if (this.ids[id] != null || this.names[name] != null) {\n      Log.w(`An object with the name ${name} or id ${id} already exists`);\n      return;\n    }\n\n    var currentLength = Object.keys(this.ids);\n    this.ids[id] = obj;\n\n    Object.keys(this.tags).forEach(tag => {\n      this.tags[tag] = this.tags[tag] || [];\n      this.tags[tag].push(currentLength);\n    });\n\n    this.names[name] = this.length;\n\n    if (obj.type != null) {\n      this.types[obj.type] = this.types[obj.type] || [];\n      this.types[obj.type].push(currentLength);\n    }\n\n    this.length = this.values().length;\n    return this.length;\n  }\n\n  pop() {\n    var ids = Object.keys(this.ids);\n\n    for (var i = ids.length, j = 0; j > i; i--) {\n      var obj = this.ids[ids[i]];\n\n      if (obj != null) {\n        this.remove(i);\n        return obj;\n      }\n    }\n  }\n\n  values() {\n    return Object.keys(this.ids)\n      .filter(id => id != null)\n      .map(id => this.ids[id]);\n  }\n\n  all(filter) {\n    var objects = [];\n\n    var recurse = function(group) {\n      group.forEach(obj => {\n        if (filter) {\n          if (filter(obj)) {\n            objects.push(obj);\n          }\n        } else {\n          objects.push(obj);\n        }\n\n        if (obj.children && obj.children instanceof Group) {\n          recurse(obj.children);\n        }\n      });\n    };\n\n    recurse(this);\n\n    return objects;\n  }\n\n  forEach(callback) {\n    this.values().forEach(obj => callback(obj));\n  }\n\n  map(callback) {\n    var mappedArray = new Group();\n\n    this.forEach(obj => mappedArray.push(callback(obj)));\n\n    return mappedArray;\n  }\n\n  filter(callback) {\n    var filteredArray = new Group();\n\n    this.forEach(obj => {\n      if (callback(obj)) {\n        filteredArray.push(obj);\n      }\n    });\n\n    return filteredArray;\n  }\n\n  byType(type) {\n    return this.types[type].map(index => this[index]);\n  }\n\n  byName(name) {\n    var index = this.names[name];\n\n    return this.ids[Object.keys(this.ids)[index]];\n  }\n\n  byTag(tag) {\n    return this.tags[tag].map(index => this[index]);\n  }\n\n  first() {\n    return this.values()[0];\n  }\n\n  last() {\n    var values = this.values();\n\n    return values[values.length - 1];\n  }\n\n  select(selector) {\n    // TODO: There needs to be a parser here\n  }\n\n  toJSON() {\n    return this.values();\n  }\n\n  toString() {\n    return JSON.stringify(this.values());\n  }\n\n  static fromJSON(arr) {\n    var group = new Group();\n\n    arr.forEach(obj => group.push(obj));\n\n    return group;\n  }\n\n  static fromString(str) {\n    return Group.fromJSON(JSON.parse(str));\n  }\n\n  remove(index) {\n    var id = Object.keys(ids)[index];\n\n    var obj = this.ids[id];\n\n    if (obj == null) {\n      Log.w(`Object at ${index} does not exist`);\n    }\n\n    var {name, tags} = obj;\n\n    this.ids[id] = null;\n    this.names[name] = null;\n\n    this.tags.forEach(tag => {\n      var position = tag.indexOf(index);\n\n      if (position >= 0) {\n        if (tag.length === 1) {\n          this.tags[tag] = [];\n        } else {\n          this.tags[tag].splice(position, 1);\n        }\n      }\n    });\n\n    this.length = all().length;\n  }\n\n  removeByName(name) {\n    var index = this.names[name];\n    this.remove(index);\n  }\n\n  removeByTag(tags) {\n    if (!Array.isArray(tags)) {\n      tags = [tags];\n    }\n\n    tags.forEach(tag => {\n      this.tags[tag].forEach(index => this.remove(index));\n      this.tags = [];\n    });\n  }\n}\n\nexport default Group;\n","// These are things that might be moved into freezedev/gameboard\n\nimport Vector2 from 'flockn/types/vector2';\n\nvar events = ['click', 'mousedown', 'mouseup', 'mouseover'];\n\nvar absolutePosition = function(event, rootElement) {\n  return new Vector2(event.pageX - rootElement.offsetLeft, event.pageY - rootElement.offsetTop);\n};\n\nvar relativePosition = function(event, rootElement, offset) {\n  // Normalize offset\n  var offsetVector = (Object.hasOwnProperty.call(offset, 'x') && Object.hasOwnProperty.call(offset, 'y')) ? offset : new Vector2(offset.left, offset.top);\n\n  return absolutePosition(event, rootElement).subtract(offsetVector);\n};\n\nexport {events, absolutePosition, relativePosition};\n","import Graphics from 'flockn/graphics';\n\nvar addable = function addable(Factory, groupInstance, extraFn) {\n\n  var adder = function adder(child, ...args) {\n\n    if (!( child instanceof Factory)) {\n      if ( typeof child === 'string') {\n        if (Object.hasOwnProperty.call(Factory.store, child)) {\n          child = new Factory(Factory.store[child]);\n        }\n      } else {\n        if ( typeof child === 'function') {\n          child = new Factory(child);\n        } else {\n          // TODO: This should be also able to deep assign properties\n          child = new Factory(function() {\n            Object.keys(child).forEach(function(key) {\n              this[key] = child[key];\n            }, this);\n          });\n        }\n      }\n    }\n    groupInstance.push(child);\n    child.parent = this;\n\n    if (extraFn) {\n      extraFn.call(this, child);\n    }\n\n    Graphics.trigger('add', child);\n\n    // Only call apply if it's available. Models for example don't have one\n    if (child.apply) {\n      child.apply(args);\n    }\n\n    child.trigger('add', child, args);\n  };\n\n  return function() {\n    var args = [].slice.call(arguments);\n    args.unshift(this);\n\n    return adder.bind.apply(adder, args);\n  };\n\n};\n\nexport default addable;\n","import addable from 'flockn/mixins/addable';\nimport renderable from 'flockn/mixins/renderable';\nimport updateable from 'flockn/mixins/updateable';\n\nexport {addable, renderable, updateable};\n","import checkForFlag from 'flockn/utils/checkforflag';\nimport Graphics from 'flockn/graphics';\n\nvar isVisible = checkForFlag('visible');\n\nvar renderable = function renderable() {\n  this.on('render', () => {\n    // Only render if element is visible\n    if (!isVisible.call(this)) {\n      return;\n    }\n\n    // Emit `render` event on the `Graphics` object\n    Graphics.trigger('render', this);\n\n    // Render all children elements\n    this.children.forEach(child => child.trigger('render'));\n  });\n};\n\nexport default renderable;\n","import checkForFlag from 'flockn/utils/checkforflag';\n\nvar isStatic = checkForFlag('static');\n\n// TODO: This is not completely how I want it be as it only sets the children as static and not the element itself\n// TODO: Evaluate if it's a good idea if static elements shouldn't be able to interact with similar to PIXI's\n//  interactive property\nvar updatable = function updateable() {\n  // Update all children\n  this.on('update', dt => {\n    if (!isStatic.call(this)) {\n      return;\n    }\n\n    this.children.forEach(child => {\n      if (child.update) {\n        child.trigger('update', dt);\n      }\n    });\n  });\n};\n\nexport default updatable;\n","import EventMap from 'eventmap';\n\nclass Model extends EventMap {\n  constructor() {\n    super();\n\n    // Store attribute data\n    this.data = {};\n  }\n\n  get() {\n    // Get an attribute if it exists\n    if (Object.hasOwnProperty.call(this.data, name)) {\n      return this.data[name];\n    }\n  }\n\n  set(name, value) {\n    // Set or add an attribute\n    this.data[name] = value;\n    // Trigger the `change` event with `name` and `value` as its parameters\n    this.trigger('change', name, value);\n  }\n\n  has(name) {\n    return Object.hasOwnProperty.call(this.data, name);\n  }\n}\n\nexport default Model;\n","import Base from 'flockn/base';\nimport GameObject from 'flockn/gameobject';\n\nimport {addable, renderable, updateable} from 'flockn/mixins';\n\n// A `Scene` instance is a layer for `GameObject` instances.\n// Any number of game objects can be added to a scene. Only one scene should be visible at the same time, depending\n// on what was set in the `activeScene` property of a `Game` instance.\nclass Scene extends Base {\n  constructor(descriptor) {\n    super('Scene', descriptor);\n\n    this.visible = true;\n\n    // Mix in `renderable` and `updateable`\n    renderable.call(this);\n    updateable.call(this);\n  }\n\n  addGameObject() {\n    // Allow game objects to be added to scenes\n    this.queue.push(addable(GameObject, this.children).apply(this, arguments));\n  }\n\n  // Scenes can be defined and are stored on the object itself\n  static define(name, factory) {\n    Scene.store[name] = factory;\n  }\n}\n\nexport default Scene;\n","import EventMap from 'eventmap';\n\n// Serialize function to `JSON.stringify` with a custom replacer\nvar serialize = function serialize(obj) {\n  // Shift parent reference\n  // TODO: This is a bit a hacky I understand, but it works for now. Once the object is passed into\n  //  JSON.stringify, we ran into a call stack error\n  var parentRef = null;\n\n  if (Object.hasOwnProperty.call(obj, 'parent')) {\n    parentRef = obj.parent;\n    obj.parent = null;\n  }\n\n  var string = JSON.stringify(obj, function(key, value) {\n    console.log(key, value);\n\n    // Avoiding cyclic dependencies\n    if (key === 'parent' || key === 'world' || key === 'input') {\n      return;\n    }\n\n    if (key === 'events' && obj instanceof EventMap) {\n      value = obj.serialize();\n    }\n\n    // Use custom toString function if available\n    if (typeof value === 'object' && value != null && Object.hasOwnProperty.call(value, 'toString')) {\n      value = value.toString();\n    }\n\n    // Convert image to Base64\n    if (value instanceof Image) {\n      let canvas = document.createElement('canvas');\n      let context = canvas.getContext('2d');\n      canvas.height = this.height;\n      canvas.width = this.width;\n      context.drawImage(this.data, 0, 0);\n      let dataURL = canvas.toDataURL('image/png');\n      canvas = null;\n\n      value = dataURL;\n    }\n\n    // Stringify the descriptor\n    if (key === 'descriptor') {\n      value = value.toString();\n    }\n\n    return value;\n  });\n\n  // Put the parent reference back in\n  if (Object.hasOwnProperty.call(obj, 'parent')) {\n    obj.parent = parentRef\n  }\n\n  return string;\n};\n\nexport default serialize;\n","import {Color, Vector2} from 'flockn/types';\nimport serialize from 'flockn/serialize';\n\nclass TextureImage {\n  constructor(texture) {\n    // The default values for `image`\n    this.color = Color.transparent();\n    this.drawable = false;\n    this.offset = new Vector2(0, 0);\n    this.data = null;\n    this.width = 0;\n    this.height = 0;\n\n    var filename = '';\n\n    Object.defineProperty(this, 'filename', {\n      get: function () {\n        return filename;\n      },\n      set: function (value) {\n        filename = value;\n\n        // TODO: Most of this should already be handled by the preloader\n        var img = new Image();\n        img.src = filename;\n\n        img.onload = () => {\n          this.data = img;\n          this.width = img.width;\n          this.height = img.height;\n          this.drawable = true;\n\n          texture.trigger('image-loaded');\n        };\n      },\n      enumerable: true\n    });\n  }\n\n  toString() {\n    return serialize(this);\n  }\n}\n\nexport default TextureImage;\n","import {Color} from 'flockn/types';\nimport EventMap from 'eventmap';\nimport TextureImage from 'flockn/texture/image';\nimport TextureLabel from 'flockn/texture/label';\nimport serialize from 'flockn/serialize';\n\nclass Texture extends EventMap {\n  constructor() {\n    super();\n\n    // Set up dimensions\n    this.width = 0;\n    this.height = 0;\n\n    // Set parent property\n    this.parent = null;\n\n    this.image = new TextureImage(this);\n    this.label = new TextureLabel(this);\n\n    this.backgroundColor = Color.transparent();\n\n    // TODO: What to do when there is both an image and a label\n    this.on('image-loaded', () => {\n      this.width = this.image.width;\n      this.height = this.image.height;\n    });\n\n    this.on('label-loaded', () => {\n      this.width = this.label.width;\n      this.height = this.label.height;\n    });\n  }\n\n  toString() {\n    return serialize(this);\n  }\n}\n\nexport default Texture;\n","import {Color} from 'flockn/types';\nimport serialize from 'flockn/serialize';\n\nclass TextureLabel {\n  constructor(texture) {\n    // Default value for `label`\n    this.drawable = false;\n    this.font = {\n      size: 10,\n      name: 'Arial',\n      color: Color.black(),\n      decoration: []\n    };\n\n    this.align = {\n      x: 'center',\n      y: 'center'\n    };\n    this.width = 0;\n    this.height = 0;\n\n    var text = '';\n\n    Object.defineProperty(this, 'text', {\n      get: function () {\n        return text;\n      },\n      set: function (value) {\n        text = value;\n\n        // Calculate the size of the label and update the dimensions\n        // TODO: This should be handled somewhere else, but I'm not sure where\n        var tmpElem = document.createElement('div');\n        tmpElem.innerText = text;\n        tmpElem.style.position = 'absolute';\n        tmpElem.style.left = '-9999px';\n        tmpElem.style.top = '-9999px';\n        tmpElem.style.fontSize = this.font.size + 'px';\n        tmpElem.style.fontFamily = this.font.name;\n        tmpElem.style.color = this.font.color;\n\n        this.font.decoration.forEach(decoration => {\n          switch (decoration) {\n            case 'bold':\n              tmpElem.style.fontWeight = 'bold';\n              break;\n            case 'italic':\n              tmpElem.style.fontStyle = 'italic';\n              break;\n            case 'underline':\n              tmpElem.style.textDecoration = 'underline';\n              break;\n            default:\n              break;\n          }\n        });\n\n        document.body.appendChild(tmpElem);\n\n        this.width = tmpElem.clientWidth;\n        this.height = tmpElem.clientHeight;\n        this.drawable = true;\n\n        document.body.removeChild(tmpElem);\n\n        texture.trigger('label-loaded');\n      }\n    });\n  }\n\n  toString() {\n    return serialize(this);\n  }\n}\n\nexport default TextureLabel;\n","import * as clamp from 'clamp';\nimport colorConstants from 'flockn/constants/color';\n\nclass Color {\n  constructor(r = 0, g = 0, b = 0, a = 1) {\n    this.set(r, g, b, a);\n  }\n\n  set(r = 0, g = 0, b = 0, a = 1) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n\n  lighten(factor) {\n    factor = clamp(factor, 0, 1);\n\n    this.r = clamp(this.r + (factor * 255) | 0, 0, 255);\n    this.g = clamp(this.g + (factor * 255) | 0, 0, 255);\n    this.b = clamp(this.b + (factor * 255) | 0, 0, 255);\n  }\n\n  darken(factor) {\n    factor = clamp(factor, 0, 1);\n\n    this.r = clamp(this.r - (factor * 255) | 0, 0, 255);\n    this.g = clamp(this.g - (factor * 255) | 0, 0, 255);\n    this.b = clamp(this.b - (factor * 255) | 0, 0, 255);\n  }\n\n  fadeIn(factor) {\n    factor = clamp(factor, 0, 1);\n\n    this.a = this.a + this.a * factor;\n    if (this.a > 1) {\n      this.a = 1;\n    }\n  }\n\n  fadeOut(factor) {\n    factor = clamp(factor, 0, 1);\n\n    this.a = this.a - this.a * factor;\n    if (this.a < 0) {\n      this.a = 0;\n    }\n  }\n\n  toString() {\n    if (this.a < 1) {\n      if (this.a === 0) {\n        return 'transparent';\n      } else {\n        return `rgba(${this.r},${this.g},${this.b},${this.a})`;\n      }\n    } else {\n      return `rgb(${this.r},${this.g},${this.b})`;\n    }\n  }\n\n  toHex() {\n    return `#${this.r.toString(16)}${this.g.toString(16)}${this.b.toString(16)}`;\n  }\n\n  // Getting a random color for debugging is quite useful sometimes\n  static random() {\n    var col = [0, 0, 0];\n\n    col = col.map(function() {\n      return ~~(Math.random() * 255);\n    });\n\n    return new Color(col[0], col[1], col[2]);\n  }\n}\n\nfor (var colorName in colorConstants) {\n  var colorValue = colorConstants[colorName];\n\n  (function(colorName, colorValue) {\n    Color[colorName] = function() {\n      var col = new Color(colorValue.r, colorValue.g, colorValue.b, colorValue.a);\n      col.name = colorName;\n      return col;\n    };\n  })(colorName, colorValue);\n}\n\nexport default Color;\n","import Color from 'flockn/types/color';\nimport Vector2 from 'flockn/types/vector2';\nimport Vector3 from 'flockn/types/vector3';\nimport Rect from 'flockn/types/rect';\n\nlet Types = {};\n\nTypes.Color = Color;\nTypes.Vector2 = Vector2;\nTypes.Vector3 = Vector3;\nTypes.Rect = Rect;\n\nexport default Types;\nexport {Color, Vector2, Vector3, Rect};\n","import Vector2 from 'flockn/types/vector2';\n\nclass Rect {\n  constructor(x = 0, y = 0, w = 0, h = 0) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n  }\n\n  toString() {\n    return JSON.stringify({\n      x: this.x,\n      y: this.y,\n      w: this.w,\n      h: this.h\n    });\n  }\n\n  static fromString(str) {\n    var obj = JSON.parse(str);\n\n    return new Rect(obj.x, obj.y, obj.w, obj.h);\n  }\n\n  center() {\n    return new Vector2(this.w / 2, this.h / 2);\n  }\n\n  contains(vector) {\n    return (vector.x >= this.x) && (vector.y >= this.y) && (vector.x < this.x + this.w) && (vector.y < this.y + this.h);\n  }\n}\n\nexport default Rect;\n","let sqrMagnitude = function(v) {\n  return Vector2.dot(v, v);\n};\n\nclass Vector2 {\n  constructor(x = 0, y = 0) {\n    this.set(x, y);\n  }\n\n  set(x = 0, y = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  get magnitude() {\n    return Math.sqrt(sqrMagnitude(this));\n  }\n\n  get sqrMagnitude() {\n    return sqrMagnitude(this);\n  }\n\n  get angle() {\n    return Math.atan2(this.x, this.y);\n  }\n\n  static dot(vec1, vec2) {\n    return vec1.x * vec2.x + vec1.y * vec2.y;\n  }\n\n  static fromAngle(angle, magnitude) {\n    return new Vector2(magnitude * Math.cos(angle), magnitude * Math.sin(angle));\n  }\n\n  toString() {\n    return JSON.stringify({x: this.x, y: this.y});\n  }\n\n  static fromString(str) {\n    var obj = JSON.parse(str);\n\n    return new Vector2(obj.x, obj.y);\n  }\n\n  clone() {\n    return new Vector2(this.x, this.y);\n  }\n\n  add(vector) {\n    this.x += vector.x;\n    this.y += vector.y;\n\n    return this;\n  }\n\n  subtract(vector) {\n    this.x -= vector.x;\n    this.y -= vector.y;\n\n    return this;\n  }\n\n  multiply(vector) {\n    this.x *= vector.x;\n    this.y *= vector.y;\n\n    return this;\n  }\n\n  divide(vector) {\n    this.x /= vector.x;\n    this.y /= vector.y;\n\n    return this;\n  }\n\n  normalize() {\n    this.x = this.x / this.magnitude;\n    this.y = this.y / this.magnitude;\n\n    return this;\n  }\n\n  equals(v) {\n    return (this.x === v.x && this.y === v.y);\n  }\n}\n\nexport default Vector2;\n","let sqrMagnitude = function(v) {\n  return Vector3.dot(v, v);\n};\n\nclass Vector3 {\n  constructor(x = 0, y = 0, z = 0) {\n    this.set(x, y, z);\n  }\n\n  set(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n\n  get magnitude() {\n    return Math.sqrt(sqrMagnitude(this));\n  }\n\n  get sqrMagnitude() {\n    return sqrMagnitude(this);\n  }\n\n  static dot(vec1, vec2) {\n    return vec1.x * vec2.x + vec1.y * vec2.y + vec1.z * vec2.z;\n  }\n\n  static cross(vec1, vec2) {\n    return new Vector3(vec1.y * vec2.z - vec2.y * vec1.z, vec1.z * vec2.x - vec2.z * vec1.x, vec1.x * vec2.y - vec2.x * vec1.y);\n  }\n\n  clone() {\n    return new Vector2(this.x, this.y, this.z);\n  }\n\n  toString() {\n    return JSON.stringify({x: this.x, y: this.y, z: this.z});\n  }\n\n  static fromString(str) {\n    var obj = JSON.parse(str);\n\n    return new Vector3(obj.x, obj.y, obj.z);\n  }\n\n  add(vector) {\n    this.x += vector.x;\n    this.y += vector.y;\n    this.z += vector.z;\n\n    return this;\n  }\n\n  subtract(vector) {\n    this.x -= vector.x;\n    this.y -= vector.y;\n    this.z -= vector.z;\n\n    return this;\n  }\n\n  multiply(vector) {\n    this.x *= vector.x;\n    this.y *= vector.y;\n    this.z *= vector.z;\n\n    return this;\n  }\n\n  divide(vector) {\n    this.x /= vector.x;\n    this.y /= vector.y;\n    this.z /= vector.z;\n\n    return this;\n  }\n\n  normalize() {\n    this.x = this.x / this.magnitude;\n    this.y = this.y / this.magnitude;\n    this.z = this.z / this.magnitude;\n\n    return this;\n  }\n\n  equals(v) {\n    return (this.x === v.x && this.y === v.y && this.z === v.z);\n  }\n\n  static forward() {\n    return new Vector3(0, 0, 1);\n  }\n\n  static right() {\n    return new Vector3(1, 0, 0);\n  }\n\n  static one() {\n    return new Vector3(1, 1, 1);\n  }\n\n  static up() {\n    return new Vector3(0, 1, 0);\n  }\n\n  static zero() {\n    return new Vector3(0, 0, 0);\n  }\n}\n\nexport default Vector3;\n","var checkForFlag = function checkForFlag(property) {\n  return function(obj) {\n    obj = obj || this;\n\n    var hasFlag = Object.hasOwnProperty.call(obj, property);\n\n    if (hasFlag) {\n      return obj[property];\n    } else {\n      return true;\n    }\n  };\n};\n\nexport default checkForFlag;\n","var Viewport = {};\n\nViewport.scale = {};\nViewport.scale.mode = 'scaleToFit';\nViewport.scale.x = 1.0;\nViewport.scale.y = 1.0;\n\nViewport.width = 800;\nViewport.height = 600;\n\nexport default Viewport;\n","import Model from 'flockn/model';\n\n// `World` is an instance of a model\nvar world = new Model();\n\nexport default world;\n"]}