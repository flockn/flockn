define("flockn/assets",["exports","module"],function(a,b){"use strict";var c={};b.exports=c}),define("flockn/audio",["exports","module"],function(a,b){"use strict";var c={};c.play=function(){},b.exports=c}),define("flockn/base",["exports","module","eventmap","gameboard","flockn/audio","flockn/group","flockn/world"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},i=function u(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:u(e,b,c)}if("value"in d&&d.writable)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},k=function(a){return a&&(a["default"]||a)},l=k(c),m=d.Input,n=k(e),o=k(f),p=k(g),q=0,r=1e4,s=function(a){var b=a+"";if(a>=r)return b;for(var c=(r+"").length-b.length,d=0;c>d;d++)b="0"+b;return b},t=function(a){function b(){var a=void 0===arguments[0]?"Base":arguments[0],c=void 0===arguments[1]?function(){}:arguments[1];i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this);var d=s(++q);this.type=a;var e=""+this.type+"-"+Date.now()+"-"+d;this.name=e,Object.defineProperty(this,"id",{get:function(){return e},enumerable:!0}),this.descriptor=c,this.children=new o,this.queue=[],this.parent=null,this.input=m,this.audio=n,this.world=p,this.trigger("constructed")}return j(b,a),h(b,null,{apply:{value:function(a){this.descriptor&&(a=a||[],this.descriptor.apply(this,a),this.trigger("execute"),this.queue.forEach(function(a){a&&a()}),this.queue=[],this.trigger("executed"))},writable:!0,enumerable:!0,configurable:!0},call:{value:function(){this.apply(arguments)},writable:!0,enumerable:!0,configurable:!0},reset:{value:function(){return this.call.apply(this,arguments)},writable:!0,enumerable:!0,configurable:!0},closest:{value:function(){},writable:!0,enumerable:!0,configurable:!0},find:{value:function(){},writable:!0,enumerable:!0,configurable:!0},log:{value:function(){if(console&&console.log){var a=[].slice.call(arguments);return a.unshift(":"),a.unshift(this.name),a.unshift(this.type),console.log.apply(console,a)}},writable:!0,enumerable:!0,configurable:!0}}),b}(l);t.queueOrder=["Game","Scene","GameObject","Behavior","Model"],b.exports=t}),define("flockn/behavior",["exports","module","flockn/base","flockn/group","flockn/mixins"],function(a,b,c,d,e){"use strict";var f=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},g=function o(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d&&d.writable)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},h=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},i=function(a){return a&&(a["default"]||a)},j=i(c),k=(i(d),e.addable),l=e.updateable,m=e.serializable,n=function(a){function b(a){g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"Behavior",a),this.gameObject=null,l.call(this)}return h(b,a),f(b,{define:{value:function(a,c){b.store[a]=c},writable:!0,enumerable:!0,configurable:!0}},{addBehavior:{value:function(){this.queue.push(k(b,this.children,function(a){a.gameObject=this.gameObject}).apply(this,arguments))},writable:!0,enumerable:!0,configurable:!0},removeBehavior:{value:function(){},writable:!0,enumerable:!0,configurable:!0}}),b}(j);m(n),n.store={},b.exports=n}),define("flockn/constants/color",["exports","module"],function(a,b){"use strict";var c={aqua:{r:0,g:255,b:255},black:{r:0,g:0,b:0},blue:{r:0,g:0,b:255},fuchsia:{r:255,g:0,b:255},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},lime:{r:0,g:255,b:0},maroon:{r:128,g:0,b:0},navy:{r:0,g:0,b:128},olive:{r:128,g:128,b:0},purple:{r:128,g:0,b:128},red:{r:255,g:0,b:0},silver:{r:192,g:192,b:192},teal:{r:0,g:128,b:128},white:{r:255,g:255,b:255},yellow:{r:255,g:255,b:0},transparent:{r:0,g:0,b:0,a:0}};b.exports=c}),define("flockn/game",["exports","module","gameboard/loop","gameboard/assetloader","flockn/base","flockn/graphics","flockn/scene","flockn/types/color","flockn/viewport","flockn/mixins"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},l=function B(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:B(e,b,c)}if("value"in d&&d.writable)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},m=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},n=function(a){return a&&(a["default"]||a)},o=n(c),p=n(d),q=n(e),r=n(f),s=n(g),t=n(h),u=n(i),v=j.addable,w=j.renderable,x=j.updateable,y=j.serializable,z=window,A=function(a){function b(a){var c=this;return!this||!this instanceof b?new b(a):(l(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"Game",a),this.container=null,this.width=z.innerWidth,this.height=z.innerHeight,this.color=new t(255,255,255),this.assetLoader=new p,this.viewport=u,this.activeScene=null,this.call(),r.trigger("initialize",this),w.call(this),x.call(this),o.on("update",function(a){c.trigger("update",a/1e3)}),o.on("render",function(){c.trigger("render")}),z.addEventListener("resize",function(){var a=z.innerWidth,b=z.innerHeight;c.trigger("resize",a,b);var d=c.children.byName(c.activeScene);d&&d.trigger("resize",z.innerWidth,z.innerHeight)},!1),void z.addEventListener("orientationchange",function(){c.trigger("orientationchange")},!1))}return m(b,a),k(b,null,{addScene:{value:function(){this.queue.push(v(s,this.children,function(a){a.width=this.width,a.height=this.height}).apply(this,arguments))},writable:!0,enumerable:!0,configurable:!0},showScene:{value:function(a){this.children.forEach(function(a){return a.visible=!1}),this.activeScene=this.children.byName(a),this.activeScene.visible=!0,this.activeScene&&(this.activeScene.trigger("resize",z.innerWidth,z.innerHeight),this.trigger("show",a,this.children[this.activeScene]))},writable:!0,enumerable:!0,configurable:!0},preload:{value:function(a){return this.assetLoader.assets=a,this.assetLoader},writable:!0,enumerable:!0,configurable:!0},run:{value:function(a){var b=this;this.on("executed",function(){o.run(),a||b.children.length>=1&&(a=b.children.first().name),b.showScene(a)})},writable:!0,enumerable:!0,configurable:!0}}),b}(q);y(A),b.exports=A}),define("flockn/gameobject",["exports","module","flockn/base","flockn/behavior","flockn/graphics","flockn/group","flockn/model","flockn/serialize","flockn/texture","flockn/types","flockn/mixins"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},m=function D(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:D(e,b,c)}if("value"in d&&d.writable)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},n=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},o=function(a){return a&&(a["default"]||a)},p=o(c),q=o(d),r=o(e),s=(o(f),o(g)),t=(o(h),o(i)),u=j.Vector2,v=j.Vector3,w=j.Color,x=j.Rect,y=k.addable,z=k.renderable,A=k.updateable,B=k.serializable,C=function(a){function b(a){var c=this;m(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"GameObject",a),this.visible=!0,this.position=new v,this.fitToTexture=!0,this.texture=new t,this.texture.parent=this,this.texture.on("image-loaded",function(){c.fitToTexture&&(c.width=c.texture.image.width,c.height=c.texture.image.height,c.origin.x=c.width/2,c.origin.y=c.height/2),r.trigger("texture-image-loaded",c,c.texture)}),this.texture.on("label-loaded",function(){c.fitToTexture&&(c.width=c.texture.label.width,c.height=c.texture.label.height,c.origin.x=c.width/2,c.origin.y=c.height/2,r.trigger("texture-label-loaded",c,c.texture))}),this.width=0,this.height=0,this.angle=0,this.alpha=1,this.scale=new u(1,1),this.origin=new u(this.width/2,this.width/2),this.border={width:0,color:new w,radius:0};var d=new s;d.name="default",this.addModel(d),z.call(this),A.call(this)}return n(b,a),l(b,{define:{value:function(a,c){b.store[a]=c},writable:!0,enumerable:!0,configurable:!0},fromString:{value:function(){},writable:!0,enumerable:!0,configurable:!0}},{left:{get:function(){return this.position.x},set:function(a){this.position.x=a},enumerable:!0,configurable:!0},top:{get:function(){return this.position.y},set:function(a){this.position.y=a},enumerable:!0,configurable:!0},right:{get:function(){return this.parent.width-this.width-this.position.x},set:function(a){this.position.x=this.parent.width-this.width-a},enumerable:!0,configurable:!0},bottom:{get:function(){return this.parent.height-this.height-this.position.y},set:function(a){this.position.y=this.parent.height-this.height-a},enumerable:!0,configurable:!0},bounds:{value:function(){return new x(this.position.x,this.position.y,this.width,this.height)},writable:!0,enumerable:!0,configurable:!0},addGameObject:{value:function(){this.queue.push(y(b,this.children).apply(this,arguments))},writable:!0,enumerable:!0,configurable:!0},addBehavior:{value:function(){this.queue.push(y(q,this.children,function(a){a.gameObject=this}).apply(this,arguments))},writable:!0,enumerable:!0,configurable:!0},addModel:{value:function(){this.queue.push(y(s,this.children).apply(this,arguments))},writable:!0,enumerable:!0,configurable:!0},removeGameObject:{value:function(){},writable:!0,enumerable:!0,configurable:!0},removeBehavior:{value:function(){},writable:!0,enumerable:!0,configurable:!0},removeModel:{value:function(){},writable:!0,enumerable:!0,configurable:!0},data:{value:function(a){return this.models.byName(a?a:"default")},writable:!0,enumerable:!0,configurable:!0},animate:{value:function(a,b,c){if("number"==typeof this[a]){var d=(b-this[a],"animate-"+Date.now());this.on(d,function(){this.off(d)})}},writable:!0,enumerable:!0,configurable:!0}}),b}(p);B(C),C.store={},b.exports=C}),define("flockn/graphics",["exports","module","eventmap"],function(a,b,c){"use strict";var d=function(a){return a&&(a["default"]||a)},e=d(c),f=new e;Object.defineProperty(f,"renderer",{value:null,writable:!0,enumerable:!0}),b.exports=f}),define("flockn/graphics/rootelement",["exports","module"],function(a,b){"use strict";var c=function(a,b){var c=function(){return null==this.container?(this.container=this.id,this.container):0===this.container.indexOf("#")?this.container.slice(1):void 0}.call(this);this.width=this.width||window.innerWidth,this.height=this.height||window.innerHeight;var d=document.getElementById(c);if(null==d){var e=document.createElement(a);e.id=c.toLowerCase(),document.body.appendChild(e),d=e}return d.className=[this.type.toLowerCase(),this.name.toLowerCase()].join(" "),d.style.position="absolute",d.style.width=this.width+"px",d.style.height=this.height+"px",b.call(this,d),this.width<window.innerWidth&&(d.style.left="50%",d.style.marginLeft=this.width*-.5+"px"),this.height<window.innerHeight&&(d.style.top="50%",d.style.marginTop=this.width*-.5+"px"),d};b.exports=c}),define("flockn/group",["exports","module","gameboard","flockn/serialize"],function(a,b,c,d){"use strict";var e=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},f=function(a){return a&&(a["default"]||a)},g=c.Log,h=f(d),i="untitled",j=0,k=function(){function a(){this.length=0,this.ids={},this.tags={},this.names={},this.types={}}return e(a,{fromJSON:{value:function(b){var c=new a;return b.forEach(function(a){return c.push(a)}),c},writable:!0,enumerable:!0,configurable:!0},fromString:{value:function(b){return a.fromJSON(JSON.parse(b))},writable:!0,enumerable:!0,configurable:!0}},{push:{value:function(a){var b=this,c=a.name,d=a.tags,e=a.id;if(c=c||i+j++,e=e||i+j++,d=d||[],null!=this.ids[e]||null!=this.names[c])return void g.w("An object with the name "+c+" or id "+e+" already exists");var f=Object.keys(this.ids);return this.ids[e]=a,Object.keys(this.tags).forEach(function(a){b.tags[a]=b.tags[a]||[],b.tags[a].push(f)}),this.names[c]=this.length,null!=a.type&&(this.types[a.type]=this.types[a.type]||[],this.types[a.type].push(f)),this.length=this.values().length,this.length},writable:!0,enumerable:!0,configurable:!0},pop:{value:function(){for(var a=Object.keys(this.ids),b=a.length,c=0;c>b;b--){var d=this.ids[a[b]];if(null!=d)return this.remove(b),d}},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){var a=this;return Object.keys(this.ids).filter(function(a){return null!=a}).map(function(b){return a.ids[b]})},writable:!0,enumerable:!0,configurable:!0},all:{value:function(b){var c=[],d=function(e){e.forEach(function(e){b?b(e)&&c.push(e):c.push(e),e.children&&e.children instanceof a&&d(e.children)})};return d(this),c},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(a){this.values().forEach(function(b){return a(b)})},writable:!0,enumerable:!0,configurable:!0},map:{value:function(b){var c=new a;return this.forEach(function(a){return c.push(b(a))}),c},writable:!0,enumerable:!0,configurable:!0},filter:{value:function(b){var c=new a;return this.forEach(function(a){b(a)&&c.push(a)}),c},writable:!0,enumerable:!0,configurable:!0},byType:{value:function(a){var b=this;return this.types[a].map(function(a){return b[a]})},writable:!0,enumerable:!0,configurable:!0},byName:{value:function(a){var b=this.names[a];return this.ids[Object.keys(this.ids)[b]]},writable:!0,enumerable:!0,configurable:!0},byTag:{value:function(a){var b=this;return this.tags[a].map(function(a){return b[a]})},writable:!0,enumerable:!0,configurable:!0},first:{value:function(){return this.values()[0]},writable:!0,enumerable:!0,configurable:!0},last:{value:function(){var a=this.values();return a[a.length-1]},writable:!0,enumerable:!0,configurable:!0},select:{value:function(){},writable:!0,enumerable:!0,configurable:!0},toJSON:{value:function(){return this.values().map(function(a){return a.toJSON&&"function"==typeof a?a.toJSON():a})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return h.toString(this.toJSON())},writable:!0,enumerable:!0,configurable:!0},remove:{value:function(a){var b=this,c=Object.keys(ids)[a],d=this.ids[c];null==d&&g.w("Object at "+a+" does not exist");{var e=d.name;d.tags}this.ids[c]=null,this.names[e]=null,this.tags.forEach(function(c){var d=c.indexOf(a);d>=0&&(1===c.length?b.tags[c]=[]:b.tags[c].splice(d,1))}),this.length=all().length},writable:!0,enumerable:!0,configurable:!0},removeByName:{value:function(a){var b=this.names[a];this.remove(b)},writable:!0,enumerable:!0,configurable:!0},removeByTag:{value:function(a){var b=this;Array.isArray(a)||(a=[a]),a.forEach(function(a){b.tags[a].forEach(function(a){return b.remove(a)}),b.tags=[]})},writable:!0,enumerable:!0,configurable:!0}}),a}();b.exports=k}),define("flockn/input/mouse",["exports","flockn/types/vector2"],function(a,b){"use strict";var c=function(a){return a&&(a["default"]||a)},d=c(b),e=["click","mousedown","mouseup","mouseover"],f=function(a,b){return new d(a.pageX-b.offsetLeft,a.pageY-b.offsetTop)},g=function(a,b,c){var e=Object.hasOwnProperty.call(c,"x")&&Object.hasOwnProperty.call(c,"y")?c:new d(c.left,c.top);return f(a,b).subtract(e)};a.events=e,a.absolutePosition=f,a.relativePosition=g}),define("flockn/mixins/addable",["exports","module","flockn/graphics"],function(a,b,c){"use strict";var d=function(a){return a&&(a["default"]||a)},e=d(c),f=function(a,b,c){var d=function(d){for(var f=arguments.length,g=Array(f>1?f-1:0),h=1;f>h;h++)g[h-1]=arguments[h];d instanceof a||("string"==typeof d?Object.hasOwnProperty.call(a.store,d)&&(d=new a(a.store[d])):d=new a("function"==typeof d?d:function(){Object.keys(d).forEach(function(a){this[a]=d[a]},this)})),b.push(d),d.parent=this,c&&c.call(this,d),e.trigger("add",d),d.apply&&d.apply(g),d.trigger("add",d,g)};return function(){var a=[].slice.call(arguments);return a.unshift(this),d.bind.apply(d,a)}};b.exports=f}),define("flockn/mixins",["exports","flockn/mixins/addable","flockn/mixins/renderable","flockn/mixins/updateable","flockn/mixins/serializable"],function(a,b,c,d,e){"use strict";var f=function(a){return a&&(a["default"]||a)},g=f(b),h=f(c),i=f(d),j=f(e);a.addable=g,a.renderable=h,a.updateable=i,a.serializable=j}),define("flockn/mixins/renderable",["exports","module","flockn/utils/checkforflag","flockn/graphics"],function(a,b,c,d){"use strict";var e=function(a){return a&&(a["default"]||a)},f=e(c),g=e(d),h=f("visible"),i=function(){var a=this;this.on("render",function(){h.call(a)&&(g.trigger("render",a),a.children.forEach(function(a){return a.trigger("render")}))})};b.exports=i}),define("flockn/mixins/serializable",["exports","module","flockn/serialize"],function(a,b,c){"use strict";var d=function(a){return a&&(a["default"]||a)},e=d(c),f=function(a){a.prototype.toJSON=function(){return e.toJSON(this)},a.prototype.toString=function(){return e.toString(this)}};b.exports=f}),define("flockn/mixins/updateable",["exports","module","flockn/utils/checkforflag"],function(a,b,c){"use strict";var d=function(a){return a&&(a["default"]||a)},e=d(c),f=e("static"),g=function(){var a=this;this.on("update",function(b){f.call(a)&&a.children.forEach(function(a){a.update&&a.trigger("update",b)})})};b.exports=g}),define("flockn/model",["exports","module","eventmap","flockn/mixins"],function(a,b,c,d){"use strict";var e=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},f=function l(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:l(e,b,c)}if("value"in d&&d.writable)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},g=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},h=function(a){return a&&(a["default"]||a)},i=h(c),j=d.serializable,k=function(a){function b(){f(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.data={}}return g(b,a),e(b,null,{get:{value:function(){return Object.hasOwnProperty.call(this.data,name)?this.data[name]:void 0},writable:!0,enumerable:!0,configurable:!0},set:{value:function(a,b){this.data[a]=b,this.trigger("change",a,b)},writable:!0,enumerable:!0,configurable:!0},has:{value:function(a){return Object.hasOwnProperty.call(this.data,a)},writable:!0,enumerable:!0,configurable:!0}}),b}(i);j(k),b.exports=k}),define("flockn/scene",["exports","module","flockn/base","flockn/gameobject","flockn/mixins"],function(a,b,c,d,e){"use strict";var f=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},g=function q(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d&&d.writable)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},h=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},i=function(a){return a&&(a["default"]||a)},j=i(c),k=i(d),l=e.addable,m=e.renderable,n=e.updateable,o=e.serializable,p=function(a){function b(a){g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"Scene",a),this.visible=!0,m.call(this),n.call(this)}return h(b,a),f(b,{define:{value:function(a,c){b.store[a]=c},writable:!0,enumerable:!0,configurable:!0}},{addGameObject:{value:function(){this.queue.push(l(k,this.children).apply(this,arguments))},writable:!0,enumerable:!0,configurable:!0}}),b}(j);o(p),b.exports=p}),define("flockn/serialize",["exports","module","eventmap"],function(a,b,c){"use strict";var d=function(a){return a&&(a["default"]||a)},e=d(c),f={};f.json={},f.json.filter=["id","parent","audio","input","world","assetLoader"],f.json.defaultReplacer=[],f.json.defaultReplacer.push(function(a,b){return"events"===a&&b instanceof e&&(b=b.serialize()),b}),f.json.defaultReplacer.push(function(a,b){if(b instanceof Image){var c=document.createElement("canvas"),d=c.getContext("2d");c.height=this.height,c.width=this.width,d.drawImage(this.data,0,0);var e=c.toDataURL("image/png");c=null,b={data:e,type:"image/png"}}return b}),f.json.defaultReplacer.push(function(a,b){return null===b?b:(b.toJSON&&"function"==typeof b.toJSON&&(b=b.toJSON()),b)}),f.json.defaultReplacer.push(function(a,b){return"function"!=typeof b?b:"descriptor"===a?b:void 0}),f.toJSON=function(a,b){var c={},d=[].concat.apply([],[f.json.defaultReplacer,b]);for(var e in a)!function(b,e){if(Object.hasOwnProperty.call(a,b)&&!(f.json.filter.indexOf(b)>=0)){for(var g=0,h=d.length;h>g;g++)!function(c){c&&(e=c.call(a,b,e))}(d[g]);"undefined"!=typeof e&&(c[b]=e)}}(e,a[e]);return c},f.toString=function(a){return JSON.stringify(f.toJSON(a),function(a,b){return"function"==typeof b&&(b=b.toString()),b})},b.exports=f}),define("flockn/texture/image",["exports","module","flockn/types","flockn/mixins/serializable"],function(a,b,c,d){"use strict";var e=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},f=function(a){return a&&(a["default"]||a)},g=c.Color,h=c.Vector2,i=f(d),j=function(){function a(a){this.color=g.transparent(),this.drawable=!1,this.offset=new h(0,0),this.data=null,this.width=0,this.height=0;var b="";Object.defineProperty(this,"filename",{get:function(){return b},set:function(c){var d=this;b=c;var e=new Image;e.src=b,e.onload=function(){d.data=e,d.width=e.width,d.height=e.height,d.drawable=!0,a.trigger("image-loaded")}},enumerable:!0})}return e(a,null,{toJSON:{value:function(){return serialize.toJSON(this)},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return serialize.toString(this)},writable:!0,enumerable:!0,configurable:!0}}),a}();i(j),b.exports=j}),define("flockn/texture",["exports","module","flockn/types","eventmap","flockn/texture/image","flockn/texture/label","flockn/mixins/serializable"],function(a,b,c,d,e,f,g){"use strict";var h=function q(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d&&d.writable)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},i=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)},j=function(a){return a&&(a["default"]||a)},k=c.Color,l=j(d),m=j(e),n=j(f),o=j(g),p=function(a){function b(){var a=this;h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.width=0,this.height=0,this.parent=null,this.image=new m(this),this.label=new n(this),this.backgroundColor=k.transparent(),this.on("image-loaded",function(){a.width=a.image.width,a.height=a.image.height}),this.on("label-loaded",function(){a.width=a.label.width,a.height=a.label.height})}return i(b,a),b}(l);o(p),b.exports=p}),define("flockn/texture/label",["exports","module","flockn/types","flockn/mixins/serializable"],function(a,b,c,d){"use strict";var e=function(a){return a&&(a["default"]||a)},f=c.Color,g=e(d),h=function(a){this.drawable=!1,this.font={size:10,name:"Arial",color:f.black(),decoration:[]},this.align={x:"center",y:"center"},this.width=0,this.height=0;var b="";Object.defineProperty(this,"text",{get:function(){return b},set:function(c){b=c;var d=document.createElement("div");d.innerText=b,d.style.position="absolute",d.style.left="-9999px",d.style.top="-9999px",d.style.fontSize=this.font.size+"px",d.style.fontFamily=this.font.name,d.style.color=this.font.color,this.font.decoration.forEach(function(a){switch(a){case"bold":d.style.fontWeight="bold";break;case"italic":d.style.fontStyle="italic";break;case"underline":d.style.textDecoration="underline"}}),document.body.appendChild(d),this.width=d.clientWidth,this.height=d.clientHeight,this.drawable=!0,document.body.removeChild(d),a.trigger("label-loaded")}})};g(h),b.exports=h}),define("flockn/types/color",["exports","module","clamp","flockn/constants/color"],function(a,b,c,d){"use strict";var e=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},f=function(a){return a&&(a["default"]||a)},g=f(c),h=f(d),i=function(){function a(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?0:arguments[2],d=void 0===arguments[3]?1:arguments[3];this.set(a,b,c,d)}return e(a,{random:{value:function(){var b=[0,0,0];return b=b.map(function(){return~~(255*Math.random())}),new a(b[0],b[1],b[2])},writable:!0,enumerable:!0,configurable:!0}},{set:{value:function(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?0:arguments[2],d=void 0===arguments[3]?1:arguments[3];this.r=a,this.g=b,this.b=c,this.a=d},writable:!0,enumerable:!0,configurable:!0},lighten:{value:function(a){a=g(a,0,1),this.r=g(this.r+255*a|0,0,255),this.g=g(this.g+255*a|0,0,255),this.b=g(this.b+255*a|0,0,255)},writable:!0,enumerable:!0,configurable:!0},darken:{value:function(a){a=g(a,0,1),this.r=g(this.r-255*a|0,0,255),this.g=g(this.g-255*a|0,0,255),this.b=g(this.b-255*a|0,0,255)},writable:!0,enumerable:!0,configurable:!0},fadeIn:{value:function(a){a=g(a,0,1),this.a=this.a+this.a*a,this.a>1&&(this.a=1)},writable:!0,enumerable:!0,configurable:!0},fadeOut:{value:function(a){a=g(a,0,1),this.a=this.a-this.a*a,this.a<0&&(this.a=0)},writable:!0,enumerable:!0,configurable:!0},toJSON:{value:function(){return this.a<1?0===this.a?"transparent":"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return this.toJSON()},writable:!0,enumerable:!0,configurable:!0},toHex:{value:function(){return"#"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16)},writable:!0,enumerable:!0,configurable:!0}}),a}();for(var j in h){var k=h[j];!function(a,b){i[a]=function(){var c=new i(b.r,b.g,b.b,b.a);return c.name=a,c}}(j,k)}b.exports=i}),define("flockn/types",["exports","module","flockn/types/color","flockn/types/vector2","flockn/types/vector3","flockn/types/rect"],function(a,b,c,d,e,f){"use strict";var g=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a},h=function(a){return a&&(a["default"]||a)},i=h(c),j=h(d),k=h(e),l=h(f),m={};m.Color=i,m.Vector2=j,m.Vector3=k,m.Rect=l,a["default"]=m,a.Color=i,a.Vector2=j,a.Vector3=k,a.Rect=l,b.exports=g(a["default"],a)}),define("flockn/types/rect",["exports","module","flockn/types/vector2"],function(a,b,c){"use strict";var d=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},e=function(a){return a&&(a["default"]||a)},f=e(c),g=function(){function a(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?0:arguments[2],d=void 0===arguments[3]?0:arguments[3];this.x=a,this.y=b,this.w=c,this.h=d}return d(a,{fromString:{value:function(b){var c=JSON.parse(b);return new a(c.x,c.y,c.w,c.h)},writable:!0,enumerable:!0,configurable:!0}},{clone:{value:function(){return new a({x:this.x,y:this.y,w:this.w,h:this.h})},writable:!0,enumerable:!0,configurable:!0},toJSON:{value:function(){return{x:this.x,y:this.y,w:this.w,h:this.h}},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return JSON.stringify(this.toJSON())},writable:!0,enumerable:!0,configurable:!0},center:{value:function(){return new f(this.w/2,this.h/2)},writable:!0,enumerable:!0,configurable:!0},contains:{value:function(a){return a.x>=this.x&&a.y>=this.y&&a.x<this.x+this.w&&a.y<this.y+this.h},writable:!0,enumerable:!0,configurable:!0}}),a}();b.exports=g}),define("flockn/types/vector2",["exports","module"],function(a,b){"use strict";var c=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},d=function(a){return e.dot(a,a)},e=function(){function a(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1];this.set(a,b)}return c(a,{dot:{value:function(a,b){return a.x*b.x+a.y*b.y},writable:!0,enumerable:!0,configurable:!0},fromAngle:{value:function(b,c){return new a(c*Math.cos(b),c*Math.sin(b))},writable:!0,enumerable:!0,configurable:!0},fromJSON:{value:function(b){return new a(b.x,b.y)},writable:!0,enumerable:!0,configurable:!0},fromString:{value:function(b){return a.fromJSON(JSON.parse(b))},writable:!0,enumerable:!0,configurable:!0}},{set:{value:function(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1];this.x=a,this.y=b},writable:!0,enumerable:!0,configurable:!0},magnitude:{get:function(){return Math.sqrt(d(this))},enumerable:!0,configurable:!0},sqrMagnitude:{get:function(){return d(this)},enumerable:!0,configurable:!0},angle:{get:function(){return Math.atan2(this.x,this.y)},enumerable:!0,configurable:!0},toJSON:{value:function(){return this.clone()},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return JSON.stringify(this.toJSON())},writable:!0,enumerable:!0,configurable:!0},clone:{value:function(){return new a(this.x,this.y)},writable:!0,enumerable:!0,configurable:!0},add:{value:function(a){return this.x+=a.x,this.y+=a.y,this},writable:!0,enumerable:!0,configurable:!0},subtract:{value:function(a){return this.x-=a.x,this.y-=a.y,this},writable:!0,enumerable:!0,configurable:!0},multiply:{value:function(a){return this.x*=a.x,this.y*=a.y,this},writable:!0,enumerable:!0,configurable:!0},divide:{value:function(a){return this.x/=a.x,this.y/=a.y,this},writable:!0,enumerable:!0,configurable:!0},normalize:{value:function(){return this.x=this.x/this.magnitude,this.y=this.y/this.magnitude,this},writable:!0,enumerable:!0,configurable:!0},equals:{value:function(a){return this.x===a.x&&this.y===a.y},writable:!0,enumerable:!0,configurable:!0}}),a}();b.exports=e}),define("flockn/types/vector3",["exports","module"],function(a,b){"use strict";var c=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},d=function(a){return e.dot(a,a)},e=function(){function a(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?0:arguments[2];this.set(a,b,c)}return c(a,{dot:{value:function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z},writable:!0,enumerable:!0,configurable:!0},cross:{value:function(b,c){return new a(b.y*c.z-c.y*b.z,b.z*c.x-c.z*b.x,b.x*c.y-c.x*b.y)},writable:!0,enumerable:!0,configurable:!0},fromJSON:{value:function(b){return new a(b.x,b.y,b.z)},writable:!0,enumerable:!0,configurable:!0},fromString:{value:function(b){return a.fromJSON(JSON.parse(b))},writable:!0,enumerable:!0,configurable:!0},forward:{value:function(){return new a(0,0,1)},writable:!0,enumerable:!0,configurable:!0},right:{value:function(){return new a(1,0,0)},writable:!0,enumerable:!0,configurable:!0},one:{value:function(){return new a(1,1,1)},writable:!0,enumerable:!0,configurable:!0},up:{value:function(){return new a(0,1,0)
},writable:!0,enumerable:!0,configurable:!0},zero:{value:function(){return new a(0,0,0)},writable:!0,enumerable:!0,configurable:!0}},{set:{value:function(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?0:arguments[2];this.x=a,this.y=b,this.z=c},writable:!0,enumerable:!0,configurable:!0},magnitude:{get:function(){return Math.sqrt(d(this))},enumerable:!0,configurable:!0},sqrMagnitude:{get:function(){return d(this)},enumerable:!0,configurable:!0},clone:{value:function(){return new a(this.x,this.y,this.z)},writable:!0,enumerable:!0,configurable:!0},toJSON:{value:function(){return this.clone()},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return JSON.stringify(this.toJSON())},writable:!0,enumerable:!0,configurable:!0},add:{value:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this},writable:!0,enumerable:!0,configurable:!0},subtract:{value:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this},writable:!0,enumerable:!0,configurable:!0},multiply:{value:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this},writable:!0,enumerable:!0,configurable:!0},divide:{value:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this},writable:!0,enumerable:!0,configurable:!0},normalize:{value:function(){return this.x=this.x/this.magnitude,this.y=this.y/this.magnitude,this.z=this.z/this.magnitude,this},writable:!0,enumerable:!0,configurable:!0},equals:{value:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},writable:!0,enumerable:!0,configurable:!0}}),a}();b.exports=e}),define("flockn/utils/checkforflag",["exports","module"],function(a,b){"use strict";var c=function(a){return function(b){b=b||this;var c=Object.hasOwnProperty.call(b,a);return c?b[a]:!0}};b.exports=c}),define("flockn/viewport",["exports","module"],function(a,b){"use strict";var c={};c.scale={},c.scale.mode="scaleToFit",c.scale.x=1,c.scale.y=1,c.width=800,c.height=600,b.exports=c}),define("flockn/world",["exports","module","flockn/model"],function(a,b,c){"use strict";var d=function(a){return a&&(a["default"]||a)},e=d(c),f=new e;b.exports=f});