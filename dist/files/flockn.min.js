!function(a){"function"==typeof define&&define.amd?define("flockn/addable",["exports","flockn/graphics"],a):"undefined"!=typeof exports&&a(exports,require("flockn/graphics"))}(function(a,b){"use strict";var c=Array.prototype.slice,d=b.default,e=function(a,b,e){var f=function(f){var g=c.call(arguments,1);f instanceof a||("string"==typeof f?Object.hasOwnProperty.call(a.store,f)&&(f=new a(a.store[f])):f=new a("function"==typeof f?f:function(){Object.keys(f).forEach(function(a){this[a]=f[a]},this)})),b.push(f),f.parent=this,e&&e.call(this,f),d.trigger("add",f),f.apply(g),f.trigger("add",f,g)};return function(){var a=[].slice.call(arguments);return a.unshift(this),f.bind.apply(f,a)}};a.default=e}),function(a){"function"==typeof define&&define.amd?define("flockn/assets",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b={};a.default=b}),function(a){"function"==typeof define&&define.amd?define("flockn/audio",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b={};b.play=function(){},a.default=b}),function(a){"function"==typeof define&&define.amd?define("flockn/base",["exports","eventmap","gameboard/input","flockn/audio","flockn/group","flockn/world"],a):"undefined"!=typeof exports&&a(exports,require("eventmap"),require("gameboard/input"),require("flockn/audio"),require("flockn/group"),require("flockn/world"))}(function(a,b,c,d,e,f){"use strict";var g=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},h=function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),a.__proto__=b},i=b,j=c,k=d.default,l=e.default,m=f.default,n=0,o=1e4,p=function(a){var b=a+"";if(a>=o)return b;for(var c=(o+"").length-b.length,d=0;c>d;d++)b="0"+b;return b},q=function(a){var b=function(b,c){void 0===b&&(b="Base"),a.call(this),this.type=b,this.name=this.type+"-"+Date.now();var d=p(++n);Object.defineProperty(this,"id",{get:function(){return this.type+"-"+d},enumerable:!0}),this.descriptor=c,this.children=new l,this.queue=[],this.parent=null,this.input=j,this.audio=k,this.world=m,this.trigger("constructed")};return h(b,a),g(b,{queueOrder:{get:function(){return["Game","Scene","GameObject","Behavior","Model"]}}},{apply:{writable:!0,value:function(a){this.descriptor&&(a=a||[],this.descriptor.apply(this,a),this.trigger("execute"),this.queue.forEach(function(a){a&&a()}),this.queue=[])}},call:{writable:!0,value:function(){this.apply(arguments)}},reset:{writable:!0,value:function(){return this.call.apply(this,arguments)}},closest:{writable:!0,value:function(){}},find:{writable:!0,value:function(){}},log:{writable:!0,value:function(){if(console&&console.log){var a=[].slice.call(arguments);return a.unshift(":"),a.unshift(this.name),a.unshift(this.type),console.log.apply(console,a)}}}}),b}(i);a.default=q}),function(a){"function"==typeof define&&define.amd?define("flockn/behavior",["exports","flockn/addable","flockn/base","flockn/group","flockn/updateable"],a):"undefined"!=typeof exports&&a(exports,require("flockn/addable"),require("flockn/base"),require("flockn/group"),require("flockn/updateable"))}(function(a,b,c,d,e){"use strict";var f=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},g=function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),a.__proto__=b},h=b.default,i=c.default,j=(d.default,e.default),k=function(a){var b=function(b){a.call(this,"Behavior",b),this.gameObject=null,j.call(this)};return g(b,a),f(b,{define:{writable:!0,value:function(a,c){b.store[a]=c}}},{addBehavior:{writable:!0,value:function(){this.queue.push(h(b,this.children,function(a){a.gameObject=this.gameObject}).apply(this,arguments))}},removeBehavior:{writable:!0,value:function(){}}}),b}(i);k.store={},a.default=k}),function(a){"function"==typeof define&&define.amd?define("flockn/constants/color",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b={aqua:{r:0,g:255,b:255},black:{r:0,g:0,b:0},blue:{r:0,g:0,b:255},fuchsia:{r:255,g:0,b:255},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},lime:{r:0,g:255,b:0},maroon:{r:128,g:0,b:0},navy:{r:0,g:0,b:128},olive:{r:128,g:128,b:0},purple:{r:128,g:0,b:128},red:{r:255,g:0,b:0},silver:{r:192,g:192,b:192},teal:{r:0,g:128,b:128},white:{r:255,g:255,b:255},yellow:{r:255,g:255,b:0},transparent:{r:0,g:0,b:0,a:0}};a.default=b}),function(a){"function"==typeof define&&define.amd?define("flockn/game",["exports","gameboard/loop","flockn/addable","flockn/base","flockn/graphics","flockn/scene","flockn/renderable","flockn/types/color","flockn/updateable","flockn/viewport"],a):"undefined"!=typeof exports&&a(exports,require("gameboard/loop"),require("flockn/addable"),require("flockn/base"),require("flockn/graphics"),require("flockn/scene"),require("flockn/renderable"),require("flockn/types/color"),require("flockn/updateable"),require("flockn/viewport"))}(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},l=function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),a.__proto__=b},m=b,n=c.default,o=d.default,p=e.default,q=f.default,r=g.default,s=h.default,t=i.default,u=j.default,v=window,w=function(a){var b=function c(b){var d=this;return!this||!this instanceof c?new c(b):(a.call(this,"Game",b),b.call(this),p.trigger("initialize",this),this.container=null,this.width=v.innerWidth,this.height=v.innerHeight,this.color=new s(255,255,255),this.viewport=u,this.activeScene=null,this.call(),r.call(this),t.call(this),m.on("update",function(a){d.trigger("update",a/1e3)}),m.on("render",function(){d.trigger("render")}),v.addEventListener("resize",function(){var a=v.innerWidth,b=v.innerHeight;d.trigger("resize",a,b),d.activeScene.trigger("resize",a,b)},!1),void v.addEventListener("orientationchange",function(){d.trigger("orientationchange")},!1))};return l(b,a),k(b,null,{addScene:{writable:!0,value:function(){this.queue.push(n(q,this.children,function(a){a.width=this.width,a.height=this.height}).apply(this,arguments))}},showScene:{writable:!0,value:function(a){this.activeScene=a,this.children[this.activeScene].trigger("resize",v.innerWidth,v.innerHeight),this.trigger("show",this.activeScene,this.children[this.activeScene])}},preload:{writable:!0,value:function(){}},run:{writable:!0,value:function(a){m.run(),a||1===this.children.length&&(a=this.children[0].name),a&&this.showScene(a)}}}),b}(o);a.default=w}),function(a){"function"==typeof define&&define.amd?define("flockn/gameobject",["exports","flockn/addable","flockn/base","flockn/behavior","flockn/graphics","flockn/group","flockn/model","flockn/renderable","flockn/serialize","flockn/texture","flockn/updateable"],a):"undefined"!=typeof exports&&a(exports,require("flockn/addable"),require("flockn/base"),require("flockn/behavior"),require("flockn/graphics"),require("flockn/group"),require("flockn/model"),require("flockn/renderable"),require("flockn/serialize"),require("flockn/texture"),require("flockn/updateable"))}(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},m=function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),a.__proto__=b},n=b.default,o=c.default,p=d.default,q=e.default,r=f.default,s=g.default,t=h.default,u=i.default,v=j.default,w=k.default,x=function(a){var b=function(b){var c=this;a.call(this,"GameObject",b),this.visible=!0,this.x=0,this.y=0,this.z=0,this.fitToTexture=!0,this.texture=new v,this.texture.parent=this,this.texture.on("image-loaded",function(){c.fitToTexture&&(c.width=c.texture.image.width,c.height=c.texture.image.height,c.origin.x=c.width/2,c.origin.y=c.height/2),q.trigger("texture-image-loaded",c,c.texture)}),this.texture.on("label-loaded",function(){c.fitToTexture&&(c.width=c.texture.label.width,c.height=c.texture.label.height,c.origin.x=c.width/2,c.origin.y=c.height/2,q.trigger("texture-label-loaded",c,c.texture))}),this.width=0,this.height=0,this.angle=0,this.alpha=1,this.scale={x:1,y:1},this.origin={x:this.width/2,y:this.width/2},this.border={width:0,color:"rgb(0, 0, 0)",radius:0},this.behaviors=new r,this.models=new r,t.call(this),w.call(this),this.on("update",function(){c.behaviors.forEach(function(a){a.trigger("update")})})};return m(b,a),l(b,{define:{writable:!0,value:function(a,c){b.store[a]=c}},fromJSON:{writable:!0,value:function(){}}},{left:{get:function(){return this.x},set:function(a){this.x=a}},top:{get:function(){return this.y},set:function(a){this.y=a}},right:{get:function(){return this.parent.width-this.width-this.x},set:function(a){this.x=this.parent.width-this.width-a}},bottom:{get:function(){return this.parent.height-this.height-this.y},set:function(a){this.y=this.parent.height-this.height-a}},addGameObject:{writable:!0,value:function(){this.queue.push(n(b,this.children).apply(this,arguments))}},addBehavior:{writable:!0,value:function(){this.queue.push(n(p,this.behaviors,function(a){a.gameObject=this}).apply(this,arguments))}},addModel:{writable:!0,value:function(){this.queue.push(n(s,this.models).apply(this,arguments))}},removeGameObject:{writable:!0,value:function(){}},removeBehavior:{writable:!0,value:function(){}},removeModel:{writable:!0,value:function(){}},toJSON:{writable:!0,value:function(){return u(this)}},animate:{writable:!0,value:function(a,b,c){if("number"==typeof this[a]){var d=(b-this[a],"animate-"+Date.now());this.on(d,function(){this.off(d)})}}}}),b}(o);x.store={},a.default=x}),function(a){"function"==typeof define&&define.amd?define("flockn/graphics",["exports","eventmap"],a):"undefined"!=typeof exports&&a(exports,require("eventmap"))}(function(a,b){"use strict";var c=b,d=new c;Object.defineProperty(d,"renderer",{value:null,writable:!0,enumerable:!0}),a.default=d}),function(a){"function"==typeof define&&define.amd?define("flockn/graphics/rootelement",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b=function(a,b){var c=function(){return null==this.container?(this.container=this.id,this.container):0===this.container.indexOf("#")?this.container.slice(1):void 0}.call(this);this.width=this.width||window.innerWidth,this.height=this.height||window.innerHeight;var d=document.getElementById(c);if(null==d){var e=document.createElement(a);e.id=c.toLowerCase(),document.body.appendChild(e),d=e}return d.className=[this.type.toLowerCase(),this.name.toLowerCase()].join(" "),d.style.position="absolute",d.style.width=this.width+"px",d.style.height=this.height+"px",b.call(this,d),this.width<window.innerWidth&&(d.style.left="50%",d.style.marginLeft=this.width*-.5+"px"),this.height<window.innerHeight&&(d.style.top="50%",d.style.marginTop=this.width*-.5+"px"),d};a.default=b}),function(a){"function"==typeof define&&define.amd?define("flockn/group",["exports","flockn/serialize"],a):"undefined"!=typeof exports&&a(exports,require("flockn/serialize"))}(function(a,b){"use strict";var c=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},d=b.default,e="untitled",f=0,g=function(){var a=function(){this.length=0,this.tags={},this.names={},this.types={}};return c(a,null,{push:{writable:!0,value:function(a,b){var c=a.name||e+f++;return null==b&&(b=a.tags||[]),Object.hasOwnProperty.call(this.names,c)?void 0:(this[this.length]=a,Object.keys(this.tags).forEach(function(a){this.tags[a]=this.tags[a]||[],this.tags[a].push(this.length)},this),this.names[c]=this.length,null!=a.type&&(this.types[a.type]=this.types[a.type]||[],this.types[a.type].push(this.length)),++this.length)}},pop:{writable:!0,value:function(){return this[this.length]}},splice:{writable:!0,value:function(){}},slice:{writable:!0,value:function(b,c){null==c&&(c=this.length);for(var d=new a,e=b;c>e;e++)d.push(this[e]);return d}},forEach:{writable:!0,value:function(a){for(var b=0;b<this.length;b++)a(this[b])}},map:{writable:!0,value:function(b){for(var c=new a,d=0;d<this.length;d++)c.push(b(this[d]));return c}},filter:{writable:!0,value:function(b){for(var c=new a,d=0;d<this.length;d++)b(this[d])&&c.push(this[d]);return c}},byType:{writable:!0,value:function(a){return this.types[a].map(function(a){return this[a]},this)}},byName:{writable:!0,value:function(a){return this[this.names[a]]}},byTag:{writable:!0,value:function(a){return this.tags[a].map(function(a){return this[a]},this)}},select:{writable:!0,value:function(){}},toJSON:{writable:!0,value:function(){return d(this)}},toString:{writable:!0,value:function(){return JSON.stringify(this.toJSON())}},remove:{writable:!0,value:function(a){{var b=this[a].name;this[a].tags}delete this.names[b],delete this[a],this.length--}},removeByName:{writable:!0,value:function(){}},removeByTag:{writable:!0,value:function(){Array.isArray(tags)||(tags=[tags])}}}),a}();a.default=g}),function(a){"function"==typeof define&&define.amd?define("flockn/model",["exports","mixedice","eventmap"],a):"undefined"!=typeof exports&&a(exports,require("mixedice"),require("eventmap"))}(function(a,b,c){"use strict";var d=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},e=function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),a.__proto__=b},f=c,g=function(a){var b=function(){a.call(this),this.data={}};return e(b,a),d(b,null,{get:{writable:!0,value:function(){return Object.hasOwnProperty.call(this.data,name)?this.data[name]:void 0}},set:{writable:!0,value:function(a,b){this.data[a]=b,this.trigger("change",a,b)}}}),b}(f);a.default=g}),function(a){"function"==typeof define&&define.amd?define("flockn/renderable",["exports","flockn/graphics"],a):"undefined"!=typeof exports&&a(exports,require("flockn/graphics"))}(function(a,b){"use strict";var c=b.default,d=function(){var a=this;this.on("render",function(){c.trigger("render",a),a.children.forEach(function(a){a.trigger("render")})})};a.default=d}),function(a){"function"==typeof define&&define.amd?define("flockn/scene",["exports","flockn/addable","flockn/base","flockn/gameobject","flockn/renderable","flockn/updateable"],a):"undefined"!=typeof exports&&a(exports,require("flockn/addable"),require("flockn/base"),require("flockn/gameobject"),require("flockn/renderable"),require("flockn/updateable"))}(function(a,b,c,d,e,f){"use strict";var g=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},h=function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),a.__proto__=b},i=b.default,j=c.default,k=d.default,l=e.default,m=f.default,n=function(a){var b=function(b){a.call(this,"Scene",b),l.call(this),m.call(this)};return h(b,a),g(b,{define:{writable:!0,value:function(a,c){b.store[a]=c}}},{addGameObject:{writable:!0,value:function(){this.queue.push(i(k,this.children).apply(this,arguments))}}}),b}(j);a.default=n}),function(a){"function"==typeof define&&define.amd?define("flockn/serialize",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b=function(a){return JSON.stringify(a,function(a,b){return"parent"!==a?("descriptor"===a&&(b=b.toString()),b):void 0})};a.default=b}),function(a){"function"==typeof define&&define.amd?define("flockn/texture",["exports","flockn/types","mixedice","eventmap"],a):"undefined"!=typeof exports&&a(exports,require("flockn/types"),require("mixedice"),require("eventmap"))}(function(a,b,c,d){"use strict";var e=function(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),a.__proto__=b},f=b.Color,g=d,h=function(a){var b=function(){a.call(this);var b=this;this.width=0,this.height=0,this.parent=null,this.image={color:f.transparent,drawable:!1,offset:{x:0,y:0},data:null,width:0,height:0};var c="";Object.defineProperty(this.image,"filename",{get:function(){return c},set:function(a){c=a;var d=new Image;d.src=c,d.onload=function(){b.image.data=d,b.image.width=d.width,b.image.height=d.height,b.image.drawable=!0,b.trigger("image-loaded")}},enumerable:!0}),this.label={drawable:!1,font:{size:10,name:"Arial",color:f.black,decoration:[]},align:{x:"center",y:"center"},width:0,height:0};var d="";Object.defineProperty(this.label,"text",{get:function(){return d},set:function(a){d=a;var c=document.createElement("div");c.innerText=d,c.style.position="absolute",c.style.left="-9999px",c.style.top="-9999px",c.style.fontSize=b.label.font.size+"px",c.style.fontFamily=b.label.font.name,c.style.color=b.label.font.color,b.label.font.decoration.forEach(function(a){switch(a){case"bold":c.style.fontWeight="bold";break;case"italic":c.style.fontStyle="italic";break;case"underline":c.style.textDecoration="underline"}}),document.body.appendChild(c),b.label.width=c.clientWidth,b.label.height=c.clientHeight,b.label.drawable=!0,document.body.removeChild(c),b.trigger("label-loaded")}}),this.color=f.white};return e(b,a),b}(g);a.default=h}),function(a){"function"==typeof define&&define.amd?define("flockn/types/color",["exports","clamp","flockn/constants/color"],a):"undefined"!=typeof exports&&a(exports,require("clamp"),require("flockn/constants/color"))}(function(a,b,c){"use strict";var d=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},e=b,f=c.default,g=function(){var a=function(a,b,c,d){void 0===d&&(d=1),void 0===c&&(c=0),void 0===b&&(b=0),void 0===a&&(a=0),this.r=a,this.g=b,this.b=c,this.a=d};return d(a,null,{lighten:{writable:!0,value:function(a){a=e(a,0,1),this.r=e(this.r+255*a|0,0,255),this.g=e(this.g+255*a|0,0,255),this.b=e(this.b+255*a|0,0,255)}},darken:{writable:!0,value:function(a){a=e(a,0,1),this.r=e(this.r-255*a|0,0,255),this.g=e(this.g-255*a|0,0,255),this.b=e(this.b-255*a|0,0,255)}},fadeIn:{writable:!0,value:function(a){a=e(a,0,1),this.a=this.a+this.a*a,this.a>1&&(this.a=1)}},fadeOut:{writable:!0,value:function(a){a=e(a,0,1),this.a=this.a-this.a*a,this.a<0&&(this.a=0)}},toString:{writable:!0,value:function(){return this.a<1?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}}),a}();for(var h in f){var i=f[h];g[h]=new g(i.r,i.g,i.b,i.a)}a.default=g}),function(a){"function"==typeof define&&define.amd?define("flockn/types",["exports","flockn/types/color","flockn/types/vector2"],a):"undefined"!=typeof exports&&a(exports,require("flockn/types/color"),require("flockn/types/vector2"))}(function(a,b,c){"use strict";var d=b.default,e=c.default,f={};f.Color=d,f.Vector2=e,a.default=f,a.Color=d,a.Vector2=e}),function(a){"function"==typeof define&&define.amd?define("flockn/types/vector2",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b=function(a,b,c){b&&Object.defineProperties(a,b),c&&Object.defineProperties(a.prototype,c)},c=function(a){return d.dot(a,a)},d=function(){var a=function(a,b){void 0===b&&(b=0),void 0===a&&(a=0),this.x=a,this.y=b};return b(a,{dot:{writable:!0,value:function(a,b){return a.x*b.x+a.y*b.y}},fromAngle:{writable:!0,value:function(b,c){return new a(c*Math.cos(b),c*Math.sin(b))}}},{magnitude:{get:function(){return Math.sqrt(c(this))}},sqrMagnitude:{get:function(){return c(this)}},angle:{get:function(){return Math.atan2(this.x,this.y)}},clone:{writable:!0,value:function(){return new a(this.x,this.y)}},add:{writable:!0,value:function(a){this.x+=a.x,this.y+=a.y}},subtract:{writable:!0,value:function(a){this.x-=a.x,this.y-=a.y}},multiply:{writable:!0,value:function(a){this.x*=a.x,this.y*=a.y}},divide:{writable:!0,value:function(a){this.x/=a.x,this.y/=a.y}},normalize:{writable:!0,value:function(){this.x=this.x/this.magnitude,this.y=this.y/this.magnitude}}}),a}();a.default=d}),function(a){"function"==typeof define&&define.amd?define("flockn/updateable",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b=function(){var a=this;this.on("update",function(b){a.children.forEach(function(a){a.trigger("update",b)})})};a.default=b}),function(a){"function"==typeof define&&define.amd?define("flockn/viewport",["exports"],a):"undefined"!=typeof exports&&a(exports)}(function(a){"use strict";var b={};b.scale={},b.scale.mode="scaleToFit",b.scale.x=1,b.scale.y=1,b.width=800,b.height=600,a.default=b}),function(a){"function"==typeof define&&define.amd?define("flockn/world",["exports","flockn/model"],a):"undefined"!=typeof exports&&a(exports,require("flockn/model"))}(function(a,b){"use strict";var c=b.default,d=new c;a.default=d});