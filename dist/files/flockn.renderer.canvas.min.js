!function(a){"function"==typeof define&&define.amd?define("flockn/renderer/canvas",["exports","flockn/graphics","flockn/graphics/rootelement"],a):"undefined"!=typeof exports&&a(exports,require("flockn/graphics"),require("flockn/graphics/rootelement"))}(function(a,b,c){"use strict";var d=b.default,e=c.default;d.renderer="Canvas";var f=null,g=null;d.on("initialize",function(a){f=e.call(a,"canvas",function(b){b.width=a.width,b.height=a.height,g=b.getContext("2d")})}),d.before("render",function(a){switch(a.type){case"Game":g.clearRect(0,0,a.width,a.height),g.fillStyle=a.color.toString(),g.fillRect(0,0,a.width,a.height)}}),d.on("render",function(a){switch(a.type){case"GameObject":if(g.save(),g.translate(a.x+a.origin.x,a.y+a.origin.y),0!==a.angle&&g.rotate(a.angle*(Math.PI/180)),"transparent"!==a.texture.color.toString()&&(g.fillStyle=a.texture.color.toString(),g.fillRect(-a.origin.x,-a.origin.y,a.width,a.height)),a.texture.image.drawable&&g.drawImage(a.texture.image.data,-a.origin.x,-a.origin.y),a.texture.label.drawable){{a.texture.label.font.size+"px "+a.texture.label.font.name}g.fillStyle=a.texture.label.font.color.toString(),g.fillText(a.texture.label.text,-a.origin.x,-a.origin.y)}g.restore();break;case"Scene":if(a.parent.activeScene!==a.name)return}})});