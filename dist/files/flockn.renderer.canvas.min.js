udefine("flockn/renderer/canvas",["../graphics","../graphics/rootelement"],function(a,b){"use strict";a.renderer="Canvas";var c=null,d=null;a.on("initialize",function(a){c=b.call(a,"canvas",function(b){b.width=a.width,b.height=a.height,d=b.getContext("2d")})}),a.before("render",function(a){switch(a.type){case"Game":d.clearRect(0,0,a.width,a.height),d.fillStyle=a.color,d.fillRect(0,0,a.width,a.height)}}),a.on("render",function(a){switch(a.type){case"GameObject":if(d.save(),d.translate(a.x+a.origin.x,a.y+a.origin.y),0!==a.angle&&d.rotate(a.angle*(Math.PI/180)),"transparent"!==a.texture.color&&(d.fillStyle=a.texture.color,d.fillRect(-a.origin.x,-a.origin.y,a.width,a.height)),a.texture.image.drawable&&d.drawImage(a.texture.image.data,-a.origin.x,-a.origin.y),a.texture.label.drawable){{a.texture.label.font.size+"px "+a.texture.label.font.name}d.fillStyle=a.texture.label.font.color,d.fillText(a.texture.label.text,-a.origin.x,-a.origin.y)}d.restore();break;case"Scene":if(a.parent.activeScene!==a.name)return}})});