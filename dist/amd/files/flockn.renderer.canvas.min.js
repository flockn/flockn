define("flockn/renderer/canvas",["exports","module","../types","../graphics","../graphics/rootelement","../input/mouse"],function(a,b,c,d,e,f){"use strict";function g(a){return a&&a.__esModule?a["default"]:a}var h=g(d),i=g(e),j=function(){h.renderer="Canvas";var a=null,b=null;h.on("initialize",function(c){a=i.call(c,"canvas",function(a){a.width=c.width,a.height=c.height,b=a.getContext("2d")}),f.events.forEach(function(b){a.addEventListener(b,function(d){c.activeScene&&c.activeScene.children.all(function(b){return b.visible&&b.bounds().contains(f.relativePosition(d,a,b))}).forEach(function(c){return c.trigger(b,f.relativePosition(d,a,c))})})})}),h.before("render",function(a){switch(a.type){case"Game":b.clearRect(0,0,a.width,a.height),b.fillStyle=a.color.toString(),b.fillRect(0,0,a.width,a.height)}}),h.on("render",function(a){switch(a.type){case"GameObject":if(b.save(),b.translate(a.position.x+a.origin.x,a.position.y+a.origin.y),0!==a.angle&&b.rotate(a.angle*(Math.PI/180)),"transparent"!==a.texture.backgroundColor.toString()&&(b.fillStyle=a.texture.backgroundColor.toString(),b.fillRect(-a.origin.x,-a.origin.y,a.width,a.height)),a.texture.image.drawable&&b.drawImage(a.texture.image.data,-a.origin.x,-a.origin.y),a.texture.label.drawable){a.texture.label.font.size+"px "+a.texture.label.font.name;b.fillStyle=a.texture.label.font.color.toString(),b.fillText(a.texture.label.text,-a.origin.x,-a.origin.y)}b.restore();break;case"Scene":if(a.parent.activeScene!==a.name)return}})};b.exports=j});