{"version":3,"sources":["src/assets.js","src/audio.js","src/base.js","src/behavior.js","src/constants/color.js","src/game.js","src/gameobject.js","src/graphics/index.js","src/graphics/rootelement.js","src/group.js","src/index.js","src/input/mouse.js","src/mixins/addable.js","src/mixins/index.js","src/mixins/renderable.js","src/mixins/serializable.js","src/mixins/updateable.js","src/model.js","src/scene.js","src/selector.js","src/serialize.js","src/texture/image.js","src/texture/index.js","src/texture/label.js","src/types/color.js","src/types/index.js","src/utils/checkforflag.js","src/viewport.js","src/world.js"],"names":[],"mappings":";;;AAAA,MAAI,MAAM,GAAG,EAAE,CAAC;;mBAED,MAAM;;;;;;ACFrB,MAAI,KAAK,GAAG,EAAE,CAAC;;AAEf,OAAK,CAAC,IAAI,GAAG,YAAW,EAEvB,CAAC;;mBAEa,KAAK;;;;;;;;;;;;;;;;;;;;ACEpB,MAAI,WAAW,GAAG,CAAC,CAAC;;AAEpB,MAAI,UAAU,GAAG,KAAK,CAAC;;AAEvB,MAAI,aAAa,GAAG,SAAhB,aAAa,CAAY,GAAG,EAAE;AAChC,QAAI,SAAS,GAAG,GAAG,GAAG,EAAE,CAAC;;AAEzB,QAAI,GAAG,IAAI,UAAU,EAAE;AACrB,aAAO,SAAS,CAAC;KAClB,MAAM;AACL,UAAI,aAAa,GAAG,CAAC,UAAU,GAAG,EAAE,CAAA,CAAE,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AAChE,WAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE,EAAE;AACtC,iBAAS,GAAG,GAAG,GAAG,SAAS,CAAC;OAC7B;;AAED,aAAO,SAAS,CAAC;KAClB;GACF,CAAC;;MAEI,IAAI;AACG,aADP,IAAI,GAC+C;UAA3C,IAAI,gCAAG,MAAM;UAAE,UAAU,gCAAG,YAAW,EAAE;;4BADjD,IAAI;;AAEN,0BAAO,CAAC;;;AAGR,UAAI,aAAa,GAAG,aAAa,CAAC,EAAE,WAAW,CAAC,CAAC;;AAEjD,UAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;AAEjB,UAAI,UAAU,QAAM,IAAI,CAAC,IAAI,SAAI,IAAI,CAAC,GAAG,EAAE,SAAI,aAAa,AAAE,CAAC;;AAE/D,UAAI,CAAC,IAAI,GAAG,UAAU,CAAC;;;AAGvB,YAAM,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE;AAChC,WAAG,EAAE,eAAW;AACd,iBAAO,UAAU,CAAC;SACnB;AACD,kBAAU,EAAE,IAAI;OACjB,CAAC,CAAC;;;AAGH,UAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;;AAG7B,UAAI,CAAC,QAAQ,GAAG,YAAW,CAAC;;;;AAI5B,UAAI,CAAC,KAAK,GAAG,EAAE,CAAC;;AAEhB,UAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;;AAGnB,UAAI,CAAC,KAAK,YA3DN,KAAK,AA2DS,CAAC;;;AAGnB,UAAI,CAAC,KAAK,SAAQ,CAAC;;;AAGnB,UAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;KAC7B;;cAzCG,IAAI;;AAAJ,QAAI,WA2CR,KAAK,GAAA,eAAC,IAAI,EAAE;;AAEV,UAAI,IAAI,CAAC,UAAU,EAAE;;AAEnB,YAAI,GAAG,IAAI,IAAI,EAAE,CAAC;;;;;AAKlB,YAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,EAAC,IAAI,EAAJ,IAAI,EAAE,KAAK,QAAA,EAAC,CAAC,CAAC;;;AAGhD,YAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;;;;;;AAMxB,YAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAS,CAAC,EAAE;AAC7B,WAAC,IAAI,CAAC,EAAE,CAAC;SACV,CAAC,CAAC;;;AAGH,YAAI,CAAC,KAAK,GAAG,EAAE,CAAC;;;AAGhB,YAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;OAC1B;KACF;;AAvEG,QAAI,WAyER,IAAI,GAAA,gBAAG;;AAEL,UAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;KACvB;;;;AA5EG,QAAI,WA+ER,KAAK,GAAA,iBAAG;AACN,aAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;KACzC;;AAjFG,QAAI,WAmFR,OAAO,GAAA,mBAAG,EAET;;AArFG,QAAI,WAuFR,IAAI,GAAA,gBAAG,EAEN;;AAzFG,QAAI,WA2FR,GAAG,GAAA,eAAG;AACJ,UAAI,OAAO,IAAI,OAAO,CAAC,GAAG,EAAE;AAC1B,YAAI,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;;AAGxC,gBAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACtB,gBAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5B,gBAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAE5B,eAAO,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;OAC7C;KACF;;WAtGG,IAAI;;;AAyGV,MAAI,CAAC,UAAU,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;;mBAExD,IAAI;;;;;;;;;;;;;;;;;;;MC9Hb,QAAQ;AACD,aADP,QAAQ,CACA,UAAU,EAAE;4BADpB,QAAQ;;AAEV,uBAAM,UAAU,EAAE,UAAU,CAAC,CAAC;;;AAG9B,UAAI,CAAC,UAAU,GAAG,IAAI,CAAC;;;AAGvB,cAba,UAAU,CAaZ,IAAI,CAAC,IAAI,CAAC,CAAC;KACvB;;cATG,QAAQ;;AAAR,YAAQ,WAWZ,WAAW,GAAA,uBAAG;;AAEZ,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAlBZ,OAAO,CAkBa,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,UAAS,KAAK,EAAE;AAC/D,aAAK,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;OACpC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;KAC5B;;AAhBG,YAAQ,WAkBZ,cAAc,GAAA,0BAAG,EAEhB;;WApBG,QAAQ;;;AAuBd,UA5B6B,YAAY,CA4B5B,QAAQ,CAAC,CAAC;;mBAER,QAAQ;;;;;;ACjCvB,MAAI,MAAM,GAAG;AACX,QAAI,EAAE;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;KACP;AACD,SAAK,EAAE;AACL,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;KACL;AACD,QAAI,EAAE;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;KACP;AACD,WAAO,EAAE;AACP,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;KACP;AACD,QAAI,EAAE;AACJ,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;KACP;AACD,SAAK,EAAE;AACL,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;KACL;AACD,QAAI,EAAE;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;KACL;AACD,UAAM,EAAE;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;KACL;AACD,QAAI,EAAE;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;KACP;AACD,SAAK,EAAE;AACL,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;KACL;AACD,UAAM,EAAE;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;KACP;AACD,OAAG,EAAE;AACH,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;KACL;AACD,UAAM,EAAE;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;KACP;AACD,QAAI,EAAE;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;KACP;AACD,SAAK,EAAE;AACL,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;KACP;AACD,UAAM,EAAE;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,GAAG;AACN,OAAC,EAAE,CAAC;KACL;AACD,eAAW,EAAE;AACX,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;AACJ,OAAC,EAAE,CAAC;KACL;GACF,CAAC;;mBAEa,MAAM;;;;;;;;;;;;;;;;;;;;;;AC/ErB,MAAI,IAAI,GAAG,MAAM,CAAC;;;;;MAIZ,IAAI;AACG,aADP,IAAI,CACI,UAAU,EAAE;;;4BADpB,IAAI;;;AAGN,uBAAM,MAAM,EAAE,UAAU,CAAC,CAAC;;;;AAI1B,UAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;;AAGtB,UAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;AAC7B,UAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;AAC/B,UAAI,CAAC,KAAK,GAAG,WAAU,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;;AAEtC,UAAI,CAAC,WAAW,GAAG,aA5BT,WAAW,EA4Be,CAAC;;;AAGrC,UAAI,CAAC,QAAQ,YAAW,CAAC;;;;AAIzB,UAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;;AAGxB,UAAI,CAAC,EAAE,CAAC,SAAS,EAAE,YAAM;AACvB,kBAAS,OAAO,CAAC,YAAY,QAAO,CAAA;OACrC,CAAC,CAAC;;;;AAIH,UAAI,CAAC,IAAI,EAAE,CAAC;;;AAGZ,cAvCa,UAAU,CAuCZ,IAAI,CAAC,IAAI,CAAC,CAAC;AACtB,cAxCyB,UAAU,CAwCxB,IAAI,CAAC,IAAI,CAAC,CAAC;;;AAGtB,eAnDI,IAAI,CAmDH,EAAE,CAAC,QAAQ,EAAE,UAAC,EAAE,EAAK;;;AAGxB,cAAK,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,IAAI,CAAC,CAAC;OACnC,CAAC,CAAC;;;AAGH,eA1DI,IAAI,CA0DH,EAAE,CAAC,QAAQ,EAAE,YAAM;AACtB,cAAK,OAAO,CAAC,QAAQ,CAAC,CAAC;OACxB,CAAC,CAAC;;;AAGH,UAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAM;AACpC,YAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;AAC/B,YAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;;AAEjC,cAAK,OAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;;;AAG5C,YAAI,YAAY,GAAG,MAAK,QAAQ,CAAC,MAAM,CAAC,MAAK,WAAW,CAAC,CAAC;;AAE1D,YAAI,YAAY,EAAE;AAChB,sBAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACnE;OACF,EAAE,KAAK,CAAC,CAAC;;;AAGV,UAAI,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,YAAM;AAC/C,cAAK,OAAO,CAAC,mBAAmB,CAAC,CAAC;OACnC,EAAE,KAAK,CAAC,CAAC;KACX;;cAnEG,IAAI;;AAAJ,QAAI,WAqER,QAAQ,GAAA,oBAAG;;;AAGT,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QA9EZ,OAAO,SA8EoB,IAAI,CAAC,QAAQ,EAAE,UAAU,KAAK,EAAE;AAC7D,aAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AACzB,aAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;OAC5B,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;KAC5B;;AA5EG,QAAI,WA8ER,SAAS,GAAA,mBAAC,IAAI,EAAE;;AAEd,UAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,KAAK;eAAI,KAAK,CAAC,OAAO,GAAG,KAAK;OAAA,CAAC,CAAC;;;AAGtD,UAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC9C,UAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC;;AAEhC,UAAI,IAAI,CAAC,WAAW,EAAE;AACpB,YAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;;;AAGtE,YAAI,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;OAC7D;KACF;;AA5FG,QAAI,WA8FR,OAAO,GAAA,iBAAC,MAAM,EAAE;AACd,UAAI,CAAC,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC;;AAEjC,aAAO,IAAI,CAAC,WAAW,CAAC;KACzB;;AAlGG,QAAI,WAoGR,GAAG,GAAA,aAAC,IAAI,EAAE;;;AACR,gBAAS,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;;AAE9B,UAAI,CAAC,EAAE,CAAC,UAAU,EAAE,YAAM;;AAExB,iBAvHE,IAAI,CAuHD,GAAG,EAAE,CAAC;;AAEX,YAAI,CAAC,IAAI,EAAE;;AAET,cAAI,OAAK,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;AAC7B,gBAAI,GAAG,OAAK,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;WACnC;SACF;;;AAGD,eAAK,SAAS,CAAC,IAAI,CAAC,CAAC;OACtB,CAAC,CAAC;KACJ;;WArHG,IAAI;;;AAwHV,UA9HyC,YAAY,CA8HxC,IAAI,CAAC,CAAC;;mBAEJ,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC3Hb,UAAU;AACH,aADP,UAAU,CACF,UAAU,EAAE;;;4BADpB,UAAU;;AAEZ,uBAAM,YAAY,EAAE,UAAU,CAAC,CAAC;;AAEhC,UAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;AAEpB,UAAI,CAAC,QAAQ,GAAG,WAXH,OAAO,EAWS,CAAC;;AAE9B,UAAI,CAAC,YAAY,GAAG,IAAI,CAAC;;;AAGzB,UAAI,CAAC,OAAO,GAAG,cAAa,CAAC;AAC7B,UAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;;;AAG3B,UAAI,CAAC,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE,YAAM;AACpC,YAAI,MAAK,YAAY,EAAE;AACrB,gBAAK,KAAK,GAAG,MAAK,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;AACtC,gBAAK,MAAM,GAAG,MAAK,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;;AAExC,gBAAK,MAAM,CAAC,CAAC,GAAI,MAAK,KAAK,GAAG,CAAC,AAAC,CAAC;AACjC,gBAAK,MAAM,CAAC,CAAC,GAAI,MAAK,MAAM,GAAG,CAAC,AAAC,CAAC;SACnC;;;AAGD,kBAAS,OAAO,CAAC,sBAAsB,SAAQ,MAAK,OAAO,CAAC,CAAC;OAC9D,CAAC,CAAC;;;AAGH,UAAI,CAAC,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE,YAAM;AACpC,YAAI,MAAK,YAAY,EAAE;AACrB,gBAAK,KAAK,GAAG,MAAK,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;AACtC,gBAAK,MAAM,GAAG,MAAK,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;;AAExC,gBAAK,MAAM,CAAC,CAAC,GAAI,MAAK,KAAK,GAAG,CAAC,AAAC,CAAC;AACjC,gBAAK,MAAM,CAAC,CAAC,GAAI,MAAK,MAAM,GAAG,CAAC,AAAC,CAAC;;;AAGlC,oBAAS,OAAO,CAAC,sBAAsB,SAAQ,MAAK,OAAO,CAAC,CAAC;SAC9D;OACF,CAAC,CAAC;;AAEH,UAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACf,UAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;AAEhB,UAAI,CAAC,KAAK,GAAG,CAAC,CAAC;;AAEf,UAAI,CAAC,KAAK,GAAG,CAAC,CAAC;;AAEf,UAAI,CAAC,KAAK,GAAG,WAtDT,OAAO,CAsDc,CAAC,EAAE,CAAC,CAAC,CAAC;;AAE/B,UAAI,CAAC,MAAM,GAAG,WAxDV,OAAO,CAwDe,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;;AAE1D,UAAI,CAAC,MAAM,GAAG;AACZ,aAAK,EAAE,CAAC;AACR,aAAK,EAAE,WA5Da,KAAK,EA4DP;AAClB,cAAM,EAAE,CAAC;OACV,CAAC;;;AAGF,UAAI,YAAY,GAAG,YAAW,CAAC;AAC/B,kBAAY,CAAC,IAAI,GAAG,SAAS,CAAC;;AAE9B,UAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;;;AAG5B,cArEa,UAAU,CAqEZ,IAAI,CAAC,IAAI,CAAC,CAAC;AACtB,cAtEyB,UAAU,CAsExB,IAAI,CAAC,IAAI,CAAC,CAAC;KACvB;;cApEG,UAAU;;AAAV,cAAU,WAsGd,MAAM,GAAA,kBAAG;;;AAGP,aAAO,WA9GsB,IAAI,CA8GjB,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KAC5E;;AA1GG,cAAU,WA4Gd,aAAa,GAAA,yBAAG;;AAEd,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAjHZ,OAAO,CAiHa,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;KAC5E;;AA/GG,cAAU,WAiHd,WAAW,GAAA,uBAAG;;AAEZ,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAtHZ,OAAO,YAsHuB,IAAI,CAAC,QAAQ,EAAE,UAAS,KAAK,EAAE;AAC/D,aAAK,CAAC,UAAU,GAAG,IAAI,CAAC;OACzB,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;KAC5B;;AAtHG,cAAU,WAwHd,QAAQ,GAAA,oBAAG;;AAET,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QA7HZ,OAAO,SA6HoB,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;KACvE;;AA3HG,cAAU,WA6Hd,gBAAgB,GAAA,4BAAG,EAElB;;AA/HG,cAAU,WAiId,cAAc,GAAA,0BAAG,EAEhB;;AAnIG,cAAU,WAqId,WAAW,GAAA,uBAAG,EAEb;;AAvIG,cAAU,WAyId,IAAI,GAAA,cAAC,IAAI,EAAE;AACT,UAAI,CAAC,IAAI,EAAE;AACT,eAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;OACtC,MAAM;AACL,eAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;OACjC;KACF;;AA/IG,cAAU,WAiJd,OAAO,GAAA,iBAAC,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE;;AAErC,UAAK,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;AACvC,YAAI,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;AACpC,YAAI,OAAO,GAAI,IAAI,GAAG,IAAI,AAAC,CAAC;;AAE5B,YAAI,WAAW,GAAG,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AAC1C,YAAI,CAAC,EAAE,CAAC,WAAW,EAAE,UAAS,EAAE,EAAE;;AAEhC,cAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SACvB,CAAC,CAAC;OACJ;KACF;;AA7JG,cAAU,CA+JP,UAAU,GAAA,sBAAG,EAEnB;;iBAjKG,UAAU;;WAsEN,YAAG;AACT,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;OACxB;WAEO,UAAC,KAAK,EAAE;AACd,YAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,KAAK,CAAC;OACzB;;;WAEM,YAAG;AACR,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;OACxB;WAEM,UAAC,KAAK,EAAE;AACb,YAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,KAAK,CAAC;OACzB;;;WAEQ,YAAG;AACV,eAAO,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;OACzD;WAEQ,UAAC,KAAK,EAAE;AACf,YAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;OAC1D;;;WAES,YAAG;AACX,eAAO,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;OAC3D;WAES,UAAC,KAAK,EAAE;AAChB,YAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;OAC5D;;;WApGG,UAAU;;;AAoKhB,UAvKyC,YAAY,CAuKxC,UAAU,CAAC,CAAC;;mBAEV,UAAU;;;;;;;;;;;AChLzB,MAAI,QAAQ,GAAG,eAAc,CAAC;;;AAG9B,QAAM,CAAC,cAAc,CAAC,QAAQ,EAAE,UAAU,EAAE;AAC1C,SAAK,EAAE,IAAI;AACX,YAAQ,EAAE,IAAI;AACd,cAAU,EAAE,IAAI;GACjB,CAAC,CAAC;;mBAEY,QAAQ;;;;;;ACZvB,MAAI,iBAAiB,GAAG,SAAS,iBAAiB,CAAC,WAAW,EAAE,OAAO,EAAE;;;AAGvE,QAAI,aAAa,GAAG,CAAC,YAAW;AAC9B,UAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;AAC1B,YAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC;AACzB,eAAO,IAAI,CAAC,SAAS,CAAC;OACvB,MAAM;AACL,YAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;AACrC,iBAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SAChC;OACF;KACF,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,CAAC;;;AAGd,QAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,UAAU,CAAC;AAC7C,QAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,WAAW,CAAC;;;AAGhD,QAAI,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;;;AAGzD,QAAI,WAAW,IAAI,IAAI,EAAE;AACvB,UAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;AAClD,aAAO,CAAC,EAAE,GAAG,aAAa,CAAC,WAAW,EAAE,CAAC;AACzC,cAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;AAEnC,iBAAW,GAAG,OAAO,CAAC;KACvB;;AAED,eAAW,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;;AAGrF,eAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;AACxC,eAAW,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAC5C,eAAW,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;;;;AAK9C,WAAO,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;;;AAGhC,QAAI,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,UAAU,EAAE;AAClC,iBAAW,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;AAC/B,iBAAW,CAAC,KAAK,CAAC,UAAU,GAAG,AAAC,IAAI,CAAC,KAAK,GAAI,CAAC,GAAG,AAAC,GAAI,IAAI,CAAC;KAC7D;;AAED,QAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,EAAE;AACpC,iBAAW,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;AAC9B,iBAAW,CAAC,KAAK,CAAC,SAAS,GAAG,AAAC,IAAI,CAAC,KAAK,GAAI,CAAC,GAAG,AAAC,GAAI,IAAI,CAAC;KAC5D;;;AAGD,WAAO,WAAW,CAAC;GACpB,CAAC;;mBAEa,iBAAiB;;;;;;;;;;;;ACtDhC,MAAI,YAAY,GAAG,UAAU,CAAC;AAC9B,MAAI,mBAAmB,GAAG,CAAC,CAAC;;MAEtB,KAAK;AACE,aADP,KAAK,GACK;4BADV,KAAK;;AAEP,UAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;AAEhB,UAAI,CAAC,GAAG,GAAG,EAAE,CAAC;AACd,UAAI,CAAC,IAAI,GAAG,EAAE,CAAC;AACf,UAAI,CAAC,KAAK,GAAG,EAAE,CAAC;AAChB,UAAI,CAAC,KAAK,GAAG,EAAE,CAAC;KACjB;;AARG,SAAK,WAUT,IAAI,GAAA,cAAC,GAAG,EAAE;;;UACH,IAAI,GAAc,GAAG,CAArB,IAAI;UAAE,IAAI,GAAQ,GAAG,CAAf,IAAI;UAAE,EAAE,GAAI,GAAG,CAAT,EAAE;;AAEnB,UAAI,GAAG,IAAI,IAAK,YAAY,GAAG,mBAAmB,EAAE,AAAC,CAAC;AACtD,QAAE,GAAG,EAAE,IAAK,YAAY,GAAG,mBAAmB,EAAE,AAAC,CAAC;AAClD,UAAI,GAAG,IAAI,IAAI,EAAE,CAAC;;AAElB,UAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE;AACpD,iBAxBE,GAAG,CAwBD,CAAC,8BAA4B,IAAI,eAAU,EAAE,qBAAkB,CAAC;AACpE,eAAO;OACR;;AAED,UAAI,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC1C,UAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;;AAEnB,YAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AACpC,cAAK,IAAI,CAAC,GAAG,CAAC,GAAG,MAAK,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;AACtC,cAAK,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;OACpC,CAAC,CAAC;;AAEH,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;;AAE/B,UAAI,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE;AACpB,YAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;AAClD,YAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;OAC1C;;AAED,UAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC;AACnC,aAAO,IAAI,CAAC,MAAM,CAAC;KACpB;;AAvCG,SAAK,WAyCT,GAAG,GAAA,eAAG;AACJ,UAAI,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAEhC,WAAK,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAC1C,YAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE3B,YAAI,GAAG,IAAI,IAAI,EAAE;AACf,cAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,iBAAO,GAAG,CAAC;SACZ;OACF;KACF;;AApDG,SAAK,WAsDT,MAAM,GAAA,kBAAG;;;AACP,aAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CACzB,MAAM,CAAC,UAAA,EAAE;eAAI,EAAE,IAAI,IAAI;OAAA,CAAC,CACxB,GAAG,CAAC,UAAA,EAAE;eAAI,OAAK,GAAG,CAAC,EAAE,CAAC;OAAA,CAAC,CAAC;KAC5B;;AA1DG,SAAK,WA4DT,GAAG,GAAA,aAAC,MAAM,EAAE;AACV,UAAI,OAAO,GAAG,EAAE,CAAC;;AAEjB,UAAI,OAAO,GAAG,SAAV,OAAO,CAAY,KAAK,EAAE;AAC5B,aAAK,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AACnB,cAAI,MAAM,EAAE;AACV,gBAAI,MAAM,CAAC,GAAG,CAAC,EAAE;AACf,qBAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACnB;WACF,MAAM;AACL,mBAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;WACnB;;AAED,cAAI,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,YAAY,KAAK,EAAE;AACjD,mBAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;WACvB;SACF,CAAC,CAAC;OACJ,CAAC;;AAEF,aAAO,CAAC,IAAI,CAAC,CAAC;;AAEd,aAAO,OAAO,CAAC;KAChB;;AAlFG,SAAK,WAoFT,OAAO,GAAA,iBAAC,QAAQ,EAAE;AAChB,UAAI,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,UAAA,GAAG;eAAI,QAAQ,CAAC,GAAG,CAAC;OAAA,CAAC,CAAC;KAC7C;;AAtFG,SAAK,WAwFT,GAAG,GAAA,aAAC,QAAQ,EAAE;AACZ,UAAI,WAAW,GAAG,IAAI,KAAK,EAAE,CAAC;;AAE9B,UAAI,CAAC,OAAO,CAAC,UAAA,GAAG;eAAI,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;OAAA,CAAC,CAAC;;AAErD,aAAO,WAAW,CAAC;KACpB;;AA9FG,SAAK,WAgGT,MAAM,GAAA,gBAAC,QAAQ,EAAE;AACf,UAAI,aAAa,GAAG,IAAI,KAAK,EAAE,CAAC;;AAEhC,UAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AAClB,YAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACjB,uBAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACzB;OACF,CAAC,CAAC;;AAEH,aAAO,aAAa,CAAC;KACtB;;AA1GG,SAAK,WA4GT,MAAM,GAAA,gBAAC,IAAI,EAAE;;;AACX,aAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAA,KAAK;eAAI,OAAK,KAAK,CAAC;OAAA,CAAC,CAAC;KACnD;;AA9GG,SAAK,WAgHT,MAAM,GAAA,gBAAC,IAAI,EAAE;AACX,UAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;;AAE7B,aAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;KAC/C;;AApHG,SAAK,WAsHT,KAAK,GAAA,eAAC,GAAG,EAAE;;;AACT,aAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAA,KAAK;eAAI,OAAK,KAAK,CAAC;OAAA,CAAC,CAAC;KACjD;;AAxHG,SAAK,WA0HT,KAAK,GAAA,iBAAG;AACN,aAAO,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;KACzB;;AA5HG,SAAK,WA8HT,IAAI,GAAA,gBAAG;AACL,UAAI,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;;AAE3B,aAAO,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KAClC;;AAlIG,SAAK,WAoIT,IAAI,GAAA,cAAC,QAAQ,EAAE,EAEd;;AAtIG,SAAK,WAwIT,MAAM,GAAA,kBAAG;AACP,aAAO,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,UAAA,KAAK,EAAI;AAChC,YAAI,KAAK,CAAC,MAAM,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAC/C,iBAAO,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB,MAAM;AACL,iBAAO,KAAK,CAAC;SACd;OACF,CAAC,CAAC;KACJ;;AAhJG,SAAK,WAkJT,QAAQ,GAAA,oBAAG;AACT,aAAO,YAAU,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;KAC1C;;AApJG,SAAK,CAsJF,QAAQ,GAAA,kBAAC,GAAG,EAAE;AACnB,UAAI,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;;AAExB,SAAG,CAAC,OAAO,CAAC,UAAA,GAAG;eAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;OAAA,CAAC,CAAC;;AAEpC,aAAO,KAAK,CAAC;KACd;;AA5JG,SAAK,CA8JF,UAAU,GAAA,oBAAC,GAAG,EAAE;AACrB,aAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;KACxC;;AAhKG,SAAK,WAkKT,MAAM,GAAA,gBAAC,KAAK,EAAE;;;AACZ,UAAI,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;;AAEjC,UAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;;AAEvB,UAAI,GAAG,IAAI,IAAI,EAAE;AACf,iBA9KE,GAAG,CA8KD,CAAC,gBAAc,KAAK,qBAAkB,CAAC;OAC5C;;UAEI,IAAI,GAAU,GAAG,CAAjB,IAAI;UAAE,IAAI,GAAI,GAAG,CAAX,IAAI;;AAEf,UAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;AACpB,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;;AAExB,UAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AACvB,YAAI,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;;AAElC,YAAI,QAAQ,IAAI,CAAC,EAAE;AACjB,cAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;AACpB,mBAAK,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;WACrB,MAAM;AACL,mBAAK,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;WACpC;SACF;OACF,CAAC,CAAC;;AAEH,UAAI,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC;KAC5B;;AA7LG,SAAK,WA+LT,YAAY,GAAA,sBAAC,IAAI,EAAE;AACjB,UAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC7B,UAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KACpB;;AAlMG,SAAK,WAoMT,WAAW,GAAA,qBAAC,IAAI,EAAE;;;AAChB,UAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AACxB,YAAI,GAAG,CAAC,IAAI,CAAC,CAAC;OACf;;AAED,UAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AAClB,eAAK,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAA,KAAK;iBAAI,OAAK,MAAM,CAAC,KAAK,CAAC;SAAA,CAAC,CAAC;AACpD,eAAK,IAAI,GAAG,EAAE,CAAC;OAChB,CAAC,CAAC;KACJ;;WA7MG,KAAK;;;mBAgNI,KAAK;;;;;;;;;;;;;;;;;;;;AC9MpB,MAAI,MAAM,GAAG,SAAS,MAAM,CAAC,UAAU,EAAE;AACvC,WAAO,UAAS,UAAU,CAAC,CAAC;GAC7B,CAAC;;;AAGF,QAAM,CAAC,WAAW,GAAG,UAAS,IAAI,EAAE;AAClC,cAAS,GAAG,CAAC,IAAI,CAAC,CAAC;GACpB,CAAC;;mBAEa,MAAM;;;;;;;;;;ACbrB,MAAI,MAAM,GAAG,CAAC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;;AAE5D,MAAI,gBAAgB,GAAG,SAAnB,gBAAgB,CAAY,KAAK,EAAE,WAAW,EAAE;AAClD,WAAO,WALD,OAAO,CAKM,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;GAC/F,CAAC;;AAEF,MAAI,gBAAgB,GAAG,SAAnB,gBAAgB,CAAY,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE;;AAE1D,QAAI,YAAY,GAAG,AAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAI,MAAM,GAAG,WAV7G,OAAO,CAUkH,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;;AAExJ,WAAO,gBAAgB,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;GACpE,CAAC;;UAEM,MAAM,GAAN,MAAM;UAAE,gBAAgB,GAAhB,gBAAgB;UAAE,gBAAgB,GAAhB,gBAAgB;;;;;;;;;;;ACflD,MAAI,OAAO,GAAG,SAAS,OAAO,CAAC,OAAO,EAAE,aAAa,EAAE,OAAO,EAAE;;AAE9D,QAAI,KAAK,GAAG,SAAS,KAAK,CAAC,KAAK,EAAW;wCAAN,IAAI;AAAJ,YAAI;;;;;;;AAMvC,UAAI,EAAG,KAAK,YAAY,OAAO,CAAA,AAAC,EAAE;AAChC,YAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAC/B,gBAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;SACjD;;AAED,aAAK,GAAG,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC;OAC5B;;AAED,mBAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1B,WAAK,CAAC,MAAM,GAAG,IAAI,CAAC;;AAEpB,UAAI,OAAO,EAAE;AACX,eAAO,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;OAC3B;;AAED,gBAAS,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;;AAG/B,UAAI,KAAK,CAAC,KAAK,EAAE;AACf,aAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;OACnB;;AAED,WAAK,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;KACnC,CAAC;;AAEF,WAAO,YAAW;AAChB,UAAI,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACpC,UAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;AAEnB,aAAO,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;KACtC,CAAC;GAEH,CAAC;;mBAEa,OAAO;;;;;;;;;;;;;;;;;;;;UCvCd,OAAO;UAAE,UAAU;UAAE,UAAU;UAAE,YAAY;;;;;;;;;;;;ACFrD,MAAI,SAAS,GAAG,cAAa,SAAS,CAAC,CAAC;;AAExC,MAAI,UAAU,GAAG,SAAS,UAAU,GAAG;;;AACrC,QAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAM;;AAEtB,UAAI,CAAC,SAAS,CAAC,IAAI,OAAM,EAAE;AACzB,eAAO;OACR;;;AAGD,gBAAS,OAAO,CAAC,QAAQ,QAAO,CAAC;;;AAGjC,YAAK,QAAQ,CAAC,OAAO,CAAC,UAAA,KAAK;eAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;OAAA,CAAC,CAAC;KACzD,CAAC,CAAC;GACJ,CAAC;;mBAEa,UAAU;;;;;;;;;;AClBzB,MAAI,YAAY,GAAG,SAAS,YAAY,CAAC,OAAO,EAAE;AAChD,WAAO,CAAC,SAAS,CAAC,MAAM,GAAG,YAAW;AACpC,aAAO,YAAU,MAAM,CAAC,IAAI,CAAC,CAAC;KAC/B,CAAC;;AAEF,WAAO,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAW;AACtC,aAAO,YAAU,QAAQ,CAAC,IAAI,CAAC,CAAC;KACjC,CAAC;GACH,CAAC;;mBAEa,YAAY;;;;;;;;;;ACV3B,MAAI,QAAQ,GAAG,cAAa,QAAQ,CAAC,CAAC;;;;;AAKtC,MAAI,SAAS,GAAG,SAAS,UAAU,GAAG;;;;AAEpC,QAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAA,EAAE,EAAI;AACtB,UAAI,CAAC,QAAQ,CAAC,IAAI,OAAM,EAAE;AACxB,eAAO;OACR;;AAED,YAAK,QAAQ,CAAC,OAAO,CAAC,UAAA,KAAK,EAAI;AAC7B,YAAI,KAAK,CAAC,MAAM,EAAE;AAChB,eAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;SAC7B;OACF,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ,CAAC;;mBAEa,SAAS;;;;;;;;;;;;;;MCnBlB,KAAK;AACE,aADP,KAAK,GACK;4BADV,KAAK;;AAEP,0BAAO,CAAC;;;AAGR,UAAI,CAAC,IAAI,GAAG,EAAE,CAAC;KAChB;;cANG,KAAK;;AAAL,SAAK,WAQT,GAAG,GAAA,aAAC,IAAI,EAAE;;AAER,UAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;AAC/C,eAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACxB;KACF;;AAbG,SAAK,WAeT,GAAG,GAAA,aAAC,IAAI,EAAE,KAAK,EAAE;;AAEf,UAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;;AAExB,UAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KACrC;;AApBG,SAAK,WAsBT,IAAI,GAAA,gBAAG,EAEN;;AAxBG,SAAK,WA0BT,GAAG,GAAA,aAAC,IAAI,EAAE;AACR,aAAO,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KACpD;;WA5BG,KAAK;;;AA+BX,UAjCQ,YAAY,CAiCP,KAAK,CAAC,CAAC;;mBAEL,KAAK;;;;;;;;;;;;;;;;;;;;MC5Bd,KAAK;AACE,aADP,KAAK,CACG,UAAU,EAAE;4BADpB,KAAK;;AAEP,uBAAM,OAAO,EAAE,UAAU,CAAC,CAAC;;AAE3B,UAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;;AAGpB,cAZa,UAAU,CAYZ,IAAI,CAAC,IAAI,CAAC,CAAC;AACtB,cAbyB,UAAU,CAaxB,IAAI,CAAC,IAAI,CAAC,CAAC;KACvB;;cATG,KAAK;;AAAL,SAAK,WAWT,aAAa,GAAA,yBAAG;;AAEd,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAlBZ,OAAO,cAkByB,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;KAC5E;;WAdG,KAAK;;;AAiBX,UAtByC,YAAY,CAsBxC,KAAK,CAAC,CAAC;;mBAEL,KAAK;;;;;;;;MC3Bd,QAAQ;AACD,aADP,QAAQ,CACA,cAAc,EAAE;4BADxB,QAAQ;KAGX;;AAHG,YAAQ,WAKZ,KAAK,GAAA,iBAAG,EAEP;;WAPG,QAAQ;;;mBAUC,QAAQ;;;;;;;;;;ACRvB,MAAI,SAAS,GAAG,EAAE,CAAC;;AAEnB,WAAS,CAAC,IAAI,GAAG,EAAE,CAAC;;AAEpB,WAAS,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC;AACnF,WAAS,CAAC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;;AAEpC,WAAS,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE,KAAK,EAAE;AACvD,QAAI,GAAG,KAAK,QAAQ,IAAI,KAAK,qBAAoB,EAAE;AACjD,WAAK,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;KAC3B;;AAED,WAAO,KAAK,CAAC;GACd,CAAC,CAAC;;AAEH,WAAS,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE,KAAK,EAAE;;AAEvD,QAAI,KAAK,YAAY,KAAK,EAAE;AAC1B,UAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC9C,UAAI,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACtC,YAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAC5B,YAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AAC1B,aAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,UAAI,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;AAC5C,YAAM,GAAG,IAAI,CAAC;;AAEd,WAAK,GAAG;AACN,YAAI,EAAE,OAAO;AACb,YAAI,EAAE,WAAW;OAClB,CAAC;KACH;;AAED,WAAO,KAAK,CAAC;GACd,CAAC,CAAC;;AAEH,WAAS,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE,KAAK,EAAE;AACvD,QAAI,KAAK,KAAK,IAAI,EAAE;AAClB,aAAO,KAAK,CAAC;KACd;;AAED,QAAI,KAAK,CAAC,MAAM,IAAI,OAAO,KAAK,CAAC,MAAM,KAAK,UAAU,EAAE;AACtD,WAAK,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;KACxB;;AAED,WAAO,KAAK,CAAC;GACd,CAAC,CAAC;;AAEH,WAAS,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAS,GAAG,EAAE,KAAK,EAAE;;AAEvD,QAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAC/B,aAAO,KAAK,CAAC;KACd,MAAM;AACL,UAAI,GAAG,KAAK,YAAY,EAAE;AACxB,eAAO,KAAK,CAAC;OACd;KACF;GACF,CAAC,CAAC;;AAEH,WAAS,CAAC,MAAM,GAAG,UAAS,GAAG,EAAE,QAAQ,EAAE;AACzC,QAAI,SAAS,GAAG,EAAE,CAAC;;AAEnB,QAAI,SAAS,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC,CAAC;;AAGhF,SAAK,IAAI,GAAG,IAAI,GAAG,EAAE;AACnB,OAAC,UAAS,GAAG,EAAE,KAAK,EAAE;AACpB,YAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE;AACzC,iBAAO;SACR;;AAED,YAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AAC3C,iBAAO;SACR;;AAED,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAChD,WAAC,UAAS,GAAG,EAAE;AACb,gBAAI,GAAG,EAAE;AACP,mBAAK,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;aACnC;WACF,CAAA,CAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SAClB;;AAED,YAAI,OAAO,KAAK,KAAK,WAAW,EAAE;AAChC,mBAAS,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;SACxB;OACF,CAAA,CAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KACnB;;AAED,WAAO,SAAS,CAAC;GAClB,CAAC;;AAEF,WAAS,CAAC,QAAQ,GAAG,UAAS,GAAG,EAAE;AACjC,WAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,UAAS,GAAG,EAAE,KAAK,EAAE;;;AAGhE,UAAI,OAAO,KAAK,KAAK,UAAU,EAAE;AAC/B,aAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;OAC1B;;AAED,aAAO,KAAK,CAAC;KACd,CAAC,CAAC;GACJ,CAAC;;mBAEa,SAAS;;;;;;;;;;;;MCtGlB,YAAY;AACL,aADP,YAAY,CACJ,OAAO,EAAE;4BADjB,YAAY;;;AAGd,UAAI,CAAC,KAAK,GAAG,OANT,KAAK,CAMU,WAAW,EAAE,CAAC;AACjC,UAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AACtB,UAAI,CAAC,MAAM,GAAG,WARH,OAAO,CAQQ,CAAC,EAAE,CAAC,CAAC,CAAC;AAChC,UAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,UAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACf,UAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;AAEhB,UAAI,QAAQ,GAAG,EAAE,CAAC;;AAElB,YAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE;AACtC,WAAG,EAAE,eAAY;AACf,iBAAO,QAAQ,CAAC;SACjB;AACD,WAAG,EAAE,aAAU,KAAK,EAAE;;;AACpB,kBAAQ,GAAG,KAAK,CAAC;;;AAGjB,cAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,aAAG,CAAC,GAAG,GAAG,QAAQ,CAAC;;AAEnB,aAAG,CAAC,MAAM,GAAG,YAAM;AACjB,kBAAK,IAAI,GAAG,GAAG,CAAC;AAChB,kBAAK,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;AACvB,kBAAK,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;AACzB,kBAAK,QAAQ,GAAG,IAAI,CAAC;;AAErB,mBAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;WACjC,CAAC;SACH;AACD,kBAAU,EAAE,IAAI;OACjB,CAAC,CAAC;KACJ;;AAlCG,gBAAY,WAoChB,MAAM,GAAA,kBAAG;AACP,aAAO,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC/B;;AAtCG,gBAAY,WAwChB,QAAQ,GAAA,oBAAG;AACT,aAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACjC;;WA1CG,YAAY;;;AA6ClB,gBAAa,YAAY,CAAC,CAAC;;mBAEZ,YAAY;;;;;;;;;;;;;;;;;;;;QC5CrB,OAAO;AACA,iBADP,OAAO,GACG;;;kCADV,OAAO;;AAET,gCAAO,CAAC;;;AAGR,gBAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACf,gBAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;;AAGhB,gBAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;AAEnB,gBAAI,CAAC,KAAK,GAAG,kBAAiB,IAAI,CAAC,CAAC;AACpC,gBAAI,CAAC,KAAK,GAAG,kBAAiB,IAAI,CAAC,CAAC;;AAEpC,gBAAI,CAAC,eAAe,GAAG,OApBnB,KAAK,CAoBoB,WAAW,EAAE,CAAC;;;AAG3C,gBAAI,CAAC,EAAE,CAAC,cAAc,EAAE,YAAM;AAC5B,sBAAK,KAAK,GAAG,MAAK,KAAK,CAAC,KAAK,CAAC;AAC9B,sBAAK,MAAM,GAAG,MAAK,KAAK,CAAC,MAAM,CAAC;aACjC,CAAC,CAAC;;AAEH,gBAAI,CAAC,EAAE,CAAC,cAAc,EAAE,YAAM;AAC5B,sBAAK,KAAK,GAAG,MAAK,KAAK,CAAC,KAAK,CAAC;AAC9B,sBAAK,MAAM,GAAG,MAAK,KAAK,CAAC,MAAM,CAAC;aACjC,CAAC,CAAC;SACJ;;kBA1BG,OAAO;;eAAP,OAAO;;;AA6Bb,kBAAa,OAAO,CAAC,CAAC;;qBAEP,OAAO;;;;;;;;;;;;MClChB,YAAY,GACL,SADP,YAAY,CACJ,OAAO,EAAE;0BADjB,YAAY;;;AAGd,QAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AACtB,QAAI,CAAC,IAAI,GAAG;AACV,UAAI,EAAE,EAAE;AACR,UAAI,EAAE,OAAO;AACb,WAAK,EAAE,OAVL,KAAK,CAUM,KAAK,EAAE;AACpB,gBAAU,EAAE,EAAE;KACf,CAAC;;AAEF,QAAI,CAAC,KAAK,GAAG;AACX,OAAC,EAAE,QAAQ;AACX,OAAC,EAAE,QAAQ;KACZ,CAAC;AACF,QAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACf,QAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;AAEhB,QAAI,IAAI,GAAG,EAAE,CAAC;;AAEd,UAAM,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;AAClC,SAAG,EAAE,eAAY;AACf,eAAO,IAAI,CAAC;OACb;AACD,SAAG,EAAE,aAAU,KAAK,EAAE;AACpB,YAAI,GAAG,KAAK,CAAC;;;;AAIb,YAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC5C,eAAO,CAAC,SAAS,GAAG,IAAI,CAAC;AACzB,eAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;AACpC,eAAO,CAAC,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC;AAC/B,eAAO,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,CAAC;AAC9B,eAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AAC/C,eAAO,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAC1C,eAAO,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;AAEtC,YAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAA,UAAU,EAAI;AACzC,kBAAQ,UAAU;AAChB,iBAAK,MAAM;AACT,qBAAO,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;AAClC,oBAAM;AAAA,AACR,iBAAK,QAAQ;AACX,qBAAO,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;AACnC,oBAAM;AAAA,AACR,iBAAK,WAAW;AACd,qBAAO,CAAC,KAAK,CAAC,cAAc,GAAG,WAAW,CAAC;AAC3C,oBAAM;AAAA,AACR;AACE,oBAAM;AAAA,WACT;SACF,CAAC,CAAC;;AAEH,gBAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;AAEnC,YAAI,CAAC,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC;AACjC,YAAI,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC;AACnC,YAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;AAErB,gBAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;AAEnC,eAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;OACjC;KACF,CAAC,CAAC;GACJ;;AAGH,gBAAa,YAAY,CAAC,CAAC;;mBAEZ,YAAY;;;;;;;;;;MCtEtB,KAAK,YAHI,KAAK,CAGd,KAAK;MAEH,KAAK,YALJ,IAAI,CAKL,KAAK;;AAEZ,OAAK,IAAI,SAAS,qBAAoB;AACpC,QAAI,UAAU,GAAG,gBAAe,SAAS,CAAC,CAAC;;AAE3C,KAAC,UAAS,SAAS,EAAE,UAAU,EAAE;AAC/B,WAAK,CAAC,SAAS,CAAC,GAAG,YAAW;AAC5B,YAAI,GAAG,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;AAC5E,WAAG,CAAC,IAAI,GAAG,SAAS,CAAC;AACrB,eAAO,GAAG,CAAC;OACZ,CAAC;KACH,CAAA,CAAE,SAAS,EAAE,UAAU,CAAC,CAAC;GAC3B;;mBAEc,KAAK;;;;;;;;;;AChBpB,WAFQ,KAAK,CAEP,KAAK,SAAQ,CAAC;;4BAFZ,KAAK;;;;;;ACDb,MAAI,YAAY,GAAG,SAAS,YAAY,CAAC,QAAQ,EAAE;AACjD,WAAO,UAAS,GAAG,EAAE;AACnB,SAAG,GAAG,GAAG,IAAI,IAAI,CAAC;;AAElB,UAAI,OAAO,GAAG,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;;AAExD,UAAI,OAAO,EAAE;AACX,eAAO,GAAG,CAAC,QAAQ,CAAC,CAAC;OACtB,MAAM;AACL,eAAO,IAAI,CAAC;OACb;KACF,CAAC;GACH,CAAC;;mBAEa,YAAY;;;;;;ACd3B,MAAI,QAAQ,GAAG,EAAE,CAAC;;AAElB,UAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;AACpB,UAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,YAAY,CAAC;AACnC,UAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,CAAG,CAAC;AACvB,UAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,CAAG,CAAC;;AAEvB,UAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;AACrB,UAAQ,CAAC,MAAM,GAAG,GAAG,CAAC;;mBAEP,QAAQ;;;;;;;;;;;ACPvB,MAAI,KAAK,GAAG,YAAW,CAAC;;mBAET,KAAK","file":"dist/amd/files/flockn.js","sourcesContent":["var Assets = {};\n\nexport default Assets;\n","var Audio = {};\n\nAudio.play = function() {\n\n};\n\nexport default Audio;\n","import EventMap from 'eventmap';\r\n\r\nimport {Input} from 'gamebox';\r\n\r\nimport Audio from './audio';\r\nimport Group from './group';\r\nimport World from './world';\r\n\r\nvar objectIndex = 0;\r\n\r\nvar prependMax = 10000;\r\n\r\nvar numToIdString = function(num) {\r\n  var stringNum = num + '';\r\n\r\n  if (num >= prependMax) {\r\n    return stringNum;\r\n  } else {\r\n    var prependLength = (prependMax + '').length - stringNum.length;\r\n    for (var i = 0; i < prependLength; i++) {\r\n      stringNum = '0' + stringNum;\r\n    }\r\n\r\n    return stringNum;\r\n  }\r\n};\r\n\r\nclass Base extends EventMap {\r\n  constructor(type = 'Base', descriptor = function() {}) {\r\n    super();\r\n\r\n    // Count up `objectIndex` and stringify it\r\n    var currentObject = numToIdString(++objectIndex);\r\n\r\n    this.type = type;\r\n\r\n    var internalId = `${this.type}-${Date.now()}-${currentObject}`;\r\n\r\n    this.name = internalId;\r\n\r\n    // The `id` property is read-only and returns the type and the stringified object index\r\n    Object.defineProperty(this, 'id', {\r\n      get: function() {\r\n        return internalId;\r\n      },\r\n      enumerable: true\r\n    });\r\n\r\n    // Save the descriptor\r\n    this.descriptor = descriptor;\r\n\r\n    // Create a new group for all children elements\r\n    this.children = new Group();\r\n\r\n    // Add a queue: All addable elements will be pushed into the queue first and called after everything else in\r\n    // the `descriptor` has been called\r\n    this.queue = [];\r\n\r\n    this.parent = null;\r\n\r\n    // `Input` should be available in instances derived from `Base`\r\n    this.input = Input;\r\n\r\n    // As should `Audio`\r\n    this.audio = Audio;\r\n\r\n    // Emit an event\r\n    this.trigger('constructed');\r\n  }\r\n\r\n  apply(data) {\r\n    // TODO: Reflect if function check should be enforced here\r\n    if (this.descriptor) {\r\n      // If args is not an array or array-like, provide an empty one\r\n      data = data || {};\r\n\r\n      // Call the `descriptor` property with `args`\r\n\r\n      // object, {data, World}\r\n      this.descriptor.call(this, this, {data, World});\r\n\r\n      // Trigger an event\r\n      this.trigger('execute');\r\n\r\n      // TODO: Impose an order in the queue, such as:\r\n      // (Game) -> Scene -> GameObject -> Behavior -> Model\r\n\r\n      // TODO: Implement z-order\r\n      this.queue.forEach(function(q) {\r\n        q && q();\r\n      });\r\n\r\n      // Reset the queue\r\n      this.queue = [];\r\n\r\n      // Find a way to directly before and after events\r\n      this.trigger('executed');\r\n    }\r\n  }\r\n\r\n  call() {\r\n    // Call `Base#apply` with the arguments object\r\n    this.apply(arguments);\r\n  }\r\n\r\n  // Alias for `Base#call`\r\n  reset() {\r\n    return this.call.apply(this, arguments);\r\n  }\r\n\r\n  closest() {\r\n\r\n  }\r\n\r\n  find() {\r\n\r\n  }\r\n\r\n  log() {\r\n    if (console && console.log) {\r\n      var argArray = [].slice.call(arguments);\r\n\r\n      // Log with `console.log`: Prepend the type and name\r\n      argArray.unshift(':');\r\n      argArray.unshift(this.name);\r\n      argArray.unshift(this.type);\r\n\r\n      return console.log.apply(console, argArray);\r\n    }\r\n  }\r\n}\r\n\r\nBase.queueOrder = ['Game', 'Scene', 'GameObject', 'Behavior', 'Model'];\r\n\r\nexport default Base;\r\n","import Base from './base';\r\nimport Group from './group';\r\n\r\nimport {addable, updateable, serializable} from './mixins';\r\n\r\n\r\n// Behaviors only provide logic. There is no rendering involved.\r\n// Behaviors can attach any number of behaviors to itself\r\nclass Behavior extends Base {\r\n  constructor(descriptor) {\r\n    super('Behavior', descriptor);\r\n\r\n    // Reference to the game object itself\r\n    this.gameObject = null;\r\n\r\n    // Mix in `updateable`\r\n    updateable.call(this);\r\n  }\r\n\r\n  addBehavior() {\r\n    // When a behavior is added, the reference to the game object is set\r\n    this.queue.push(addable(Behavior, this.children, function(child) {\r\n      child.gameObject = this.gameObject;\r\n    }).apply(this, arguments));\r\n  }\r\n\r\n  removeBehavior() {\r\n\r\n  }\r\n}\r\n\r\nserializable(Behavior);\r\n\r\nexport default Behavior;\r\n","var colors = {\n  aqua: {\n    r: 0,\n    g: 255,\n    b: 255\n  },\n  black: {\n    r: 0,\n    g: 0,\n    b: 0\n  },\n  blue: {\n    r: 0,\n    g: 0,\n    b: 255\n  },\n  fuchsia: {\n    r: 255,\n    g: 0,\n    b: 255\n  },\n  gray: {\n    r: 128,\n    g: 128,\n    b: 128\n  },\n  green: {\n    r: 0,\n    g: 128,\n    b: 0\n  },\n  lime: {\n    r: 0,\n    g: 255,\n    b: 0\n  },\n  maroon: {\n    r: 128,\n    g: 0,\n    b: 0\n  },\n  navy: {\n    r: 0,\n    g: 0,\n    b: 128\n  },\n  olive: {\n    r: 128,\n    g: 128,\n    b: 0\n  },\n  purple: {\n    r: 128,\n    g: 0,\n    b: 128\n  },\n  red: {\n    r: 255,\n    g: 0,\n    b: 0\n  },\n  silver: {\n    r: 192,\n    g: 192,\n    b: 192\n  },\n  teal: {\n    r: 0,\n    g: 128,\n    b: 128\n  },\n  white: {\n    r: 255,\n    g: 255,\n    b: 255\n  },\n  yellow: {\n    r: 255,\n    g: 255,\n    b: 0\n  },\n  transparent: {\n    r: 0,\n    g: 0,\n    b: 0,\n    a: 0\n  }\n};\n\nexport default colors;\n","import {Loop, AssetLoader} from 'gamebox';\r\n\r\nimport Base from './base';\r\nimport Graphics from './graphics';\r\nimport Scene from './scene';\r\nimport Color from './types/color';\r\nimport Viewport from './viewport';\r\n\r\nimport {addable, renderable, updateable, serializable} from './mixins';\r\n\r\nvar root = window;\r\n\r\n// Game is the entry point for all games made with flockn.\r\n// Any number of `Scene` instances can be attached to a `Game` instance\r\nclass Game extends Base {\r\n  constructor(descriptor) {\r\n    // Extend the `Base` class\r\n    super('Game', descriptor);\r\n\r\n    // `this.container` is a string, which is the id of the element.\r\n    // If it's not given, it should create a new element. This should be handled by the renderer.\r\n    this.container = null;\r\n\r\n    // By default, the width and height of a `Game` instance will be as large as the inside of the browser window.\r\n    this.width = root.innerWidth;\r\n    this.height = root.innerHeight;\r\n    this.color = new Color(255, 255, 255);\r\n\r\n    this.assetLoader = new AssetLoader();\r\n\r\n    // Set the viewport object\r\n    this.viewport = Viewport;\r\n\r\n    // `this.activeScene` is set to `null` by default, but will change to the instance of the scene\r\n    // once a scene will be shown\r\n    this.activeScene = null;\r\n\r\n    // Trigger the graphics initializer\r\n    this.on('execute', () => {\r\n      Graphics.trigger('initialize', this)\r\n    });\r\n    \r\n    // A `Game` instance is the root element so the descriptor needs to be called directly,\r\n    // because it won't be added to anywhere else\r\n    this.call();\r\n    \r\n    // Mix in `renderable` and `updateable`\r\n    renderable.call(this);\r\n    updateable.call(this);\r\n\r\n    // Bind the game loop to the `update` event\r\n    Loop.on('update', (dt) => {\r\n      // Deltatime should not be a millisecond value, but a second one.\r\n      // It should be a value between 0 - 1\r\n      this.trigger('update', dt / 1000);\r\n    });\r\n\r\n    // Bind the game loop to the `render` event\r\n    Loop.on('render', () => {\r\n      this.trigger('render');\r\n    });\r\n\r\n    // Add a `resize` event to each `Game` instance\r\n    root.addEventListener('resize', () => {\r\n      var newWidth = root.innerWidth;\r\n      var newHeight = root.innerHeight;\r\n\r\n      this.trigger('resize', newWidth, newHeight);\r\n\r\n      // Trigger resize event for the current scene\r\n      var currentScene = this.children.byName(this.activeScene);\r\n\r\n      if (currentScene) {\r\n        currentScene.trigger('resize', root.innerWidth, root.innerHeight);\r\n      }\r\n    }, false);\r\n\r\n    // Add an `orientationchange` event to each `Game` instance\r\n    root.addEventListener('orientationchange', () => {\r\n      this.trigger('orientationchange');\r\n    }, false);\r\n  }\r\n\r\n  addScene() {\r\n    // When adding a scene, the dimension of scenes should be\r\n    // exactly as large as the `Game` instance itself\r\n    this.queue.push(addable(Scene, this.children, function (child) {\r\n      child.width = this.width;\r\n      child.height = this.height;\r\n    }).apply(this, arguments));\r\n  }\r\n\r\n  showScene(name) {\r\n    // TODO: Add transitions\r\n    this.children.forEach(scene => scene.visible = false);\r\n\r\n    // Set the `activeScene` property\r\n    this.activeScene = this.children.byName(name);\r\n    this.activeScene.visible = true;\r\n\r\n    if (this.activeScene) {\r\n      this.activeScene.trigger('resize', root.innerWidth, root.innerHeight);\r\n\r\n      // Trigger the `show` event\r\n      this.trigger('show', name, this.children[this.activeScene]);\r\n    }\r\n  }\r\n\r\n  preload(assets) {\r\n    this.assetLoader.assets = assets;\r\n\r\n    return this.assetLoader;\r\n  }\r\n\r\n  run(name) {\r\n    Graphics.trigger('add', this);\r\n    \r\n    this.on('executed', () => {\r\n      // Start the game loop\r\n      Loop.run();\r\n\r\n      if (!name) {\r\n        // If there's only no name, take the first scene\r\n        if (this.children.length >= 1) {\r\n          name = this.children.first().name;\r\n        }\r\n      }\r\n\r\n      // Show the scene if a parameter has been specified\r\n      this.showScene(name);\r\n    });\r\n  }\r\n}\r\n\r\nserializable(Game);\r\n\r\nexport default Game;\r\n","import Base from './base';\r\nimport Behavior from './behavior';\r\nimport Graphics from './graphics';\r\nimport Group from './group';\r\nimport Model from './model';\r\nimport serialize from './serialize';\r\nimport Texture from './texture';\r\n\r\nimport {Vector2, Vector3, Color, Rect} from './types';\r\n\r\nimport {addable, renderable, updateable, serializable} from './mixins';\r\n\r\n\r\nclass GameObject extends Base {\r\n  constructor(descriptor) {\r\n    super('GameObject', descriptor);\r\n\r\n    this.visible = true;\r\n\r\n    this.position = new Vector3();\r\n\r\n    this.fitToTexture = true;\r\n\r\n    // Create a new texture and bind it to the `texture` property\r\n    this.texture = new Texture();\r\n    this.texture.parent = this;\r\n\r\n    // Once the image is loaded, update width and height if `fitToTexture` is set\r\n    this.texture.on('image-loaded', () => {\r\n      if (this.fitToTexture) {\r\n        this.width = this.texture.image.width;\r\n        this.height = this.texture.image.height;\r\n\r\n        this.origin.x = (this.width / 2);\r\n        this.origin.y = (this.height / 2);\r\n      }\r\n\r\n      // TODO: Evaluate if the Graphics trigger should only be in the texture\r\n      Graphics.trigger('texture-image-loaded', this, this.texture);\r\n    });\r\n\r\n    // Once the label is loaded, update width and height if `fitToTexture` is set\r\n    this.texture.on('label-loaded', () => {\r\n      if (this.fitToTexture) {\r\n        this.width = this.texture.label.width;\r\n        this.height = this.texture.label.height;\r\n\r\n        this.origin.x = (this.width / 2);\r\n        this.origin.y = (this.height / 2);\r\n\r\n        // TODO: Evaluate if the Graphics trigger should only be in the texture\r\n        Graphics.trigger('texture-label-loaded', this, this.texture);\r\n      }\r\n    });\r\n\r\n    this.width = 0;\r\n    this.height = 0;\r\n\r\n    this.angle = 0;\r\n\r\n    this.alpha = 1;\r\n\r\n    this.scale = new Vector2(1, 1);\r\n\r\n    this.origin = new Vector2(this.width / 2, this.width / 2);\r\n\r\n    this.border = {\r\n      width: 0,\r\n      color: new Color(),\r\n      radius: 0\r\n    };\r\n\r\n    // Add default model\r\n    var defaultModel = new Model();\r\n    defaultModel.name = 'default';\r\n\r\n    this.addModel(defaultModel);\r\n\r\n    // Mix in renderable and updateable\r\n    renderable.call(this);\r\n    updateable.call(this);\r\n  }\r\n\r\n  get left() {\r\n    return this.position.x;\r\n  }\r\n\r\n  set left(value) {\r\n    this.position.x = value;\r\n  }\r\n\r\n  get top() {\r\n    return this.position.y;\r\n  }\r\n\r\n  set top(value) {\r\n    this.position.y = value;\r\n  }\r\n\r\n  get right() {\r\n    return this.parent.width - this.width - this.position.x;\r\n  }\r\n\r\n  set right(value) {\r\n    this.position.x = this.parent.width - this.width - value;\r\n  }\r\n\r\n  get bottom() {\r\n    return this.parent.height - this.height - this.position.y;\r\n  }\r\n\r\n  set bottom(value) {\r\n    this.position.y = this.parent.height - this.height - value;\r\n  }\r\n\r\n  bounds() {\r\n    // TODO: Also take care of scale\r\n    // TODO: Also take care of rotation\r\n    return new Rect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n\r\n  addGameObject() {\r\n    // Add a game object to this game object\r\n    this.queue.push(addable(GameObject, this.children).apply(this, arguments));\r\n  }\r\n\r\n  addBehavior() {\r\n    // Add a `Behavior` instance to the the game object and update the `gameObject` property\r\n    this.queue.push(addable(Behavior, this.children, function(child) {\r\n      child.gameObject = this;\r\n    }).apply(this, arguments));\r\n  }\r\n\r\n  addModel() {\r\n    // Add a `Model` instance to the game object\r\n    this.queue.push(addable(Model, this.children).apply(this, arguments));\r\n  }\r\n\r\n  removeGameObject() {\r\n\r\n  }\r\n\r\n  removeBehavior() {\r\n\r\n  }\r\n\r\n  removeModel() {\r\n\r\n  }\r\n\r\n  data(name) {\r\n    if (!name) {\r\n      return this.models.byName('default');\r\n    } else {\r\n      return this.models.byName(name);\r\n    }\r\n  }\r\n\r\n  animate(property, end, time, callback) {\r\n    // TODO: Tweening does not work yet\r\n    if ( typeof this[property] === 'number') {\r\n      var distance = end - this[property];\r\n      var timeInS = (time / 1000);\r\n\r\n      var animateName = 'animate-' + Date.now();\r\n      this.on(animateName, function(dt) {\r\n\r\n        this.off(animateName);\r\n      });\r\n    }\r\n  }\r\n\r\n  static fromString() {\r\n\r\n  }\r\n}\r\n\r\nserializable(GameObject);\r\n\r\nexport default GameObject;\r\n","import EventMap from 'eventmap';\n\n// `Graphics` is an instance of an `EventMap`\nlet Graphics = new EventMap();\n\n// Special property `renderer` can be modified, but not deleted\nObject.defineProperty(Graphics, 'renderer', {\n  value: null,\n  writable: true,\n  enumerable: true\n});\n\nexport default Graphics;\n","var createRootElement = function createRootElement(elementName, extraFn) {\n  // Sets the container name: If none is given, set the id of the object.\n  // If a `#` is prepended to the string, cut it off\n  var containerName = (function() {\n    if (this.container == null) {\n      this.container = this.id;\n      return this.container;\n    } else {\n      if (this.container.indexOf('#') === 0) {\n        return this.container.slice(1);\n      }\n    }\n  }).call(this);\n\n  // Set the dimensions of the object. If none are given, it should be the inside of the browser's window\n  this.width = this.width || window.innerWidth;\n  this.height = this.height || window.innerHeight;\n\n  // Try to get the HTML element by using `containerName`\n  var rootElement = document.getElementById(containerName);\n\n  // If nothing was found, create the element\n  if (rootElement == null) {\n    var element = document.createElement(elementName);\n    element.id = containerName.toLowerCase();\n    document.body.appendChild(element);\n\n    rootElement = element;\n  }\n\n  rootElement.className = [this.type.toLowerCase(), this.name.toLowerCase()].join(' ');\n\n  // Set the dimensions of the `rootElement`\n  rootElement.style.position = 'absolute';\n  rootElement.style.width = this.width + 'px';\n  rootElement.style.height = this.height + 'px';\n\n  // Allow some extra functionality to happen here.\n  // It should be called on the same context and the\n  // `rootElement` is passed in as a parameter\n  extraFn.call(this, rootElement);\n\n  // Center the element if it's smaller than the inside of the browser's window\n  if (this.width < window.innerWidth) {\n    rootElement.style.left = '50%';\n    rootElement.style.marginLeft = (this.width * (-0.5)) + 'px';\n  }\n\n  if (this.height < window.innerHeight) {\n    rootElement.style.top = '50%';\n    rootElement.style.marginTop = (this.width * (-0.5)) + 'px';\n  }\n\n  // Return the element, in case someone wants to meddle with it\n  return rootElement;\n};\n\nexport default createRootElement;\n","import {Log} from 'gamebox';\r\nimport serialize from './serialize';\r\n\r\nvar unidentified = 'untitled';\r\nvar unidentifiedCounter = 0;\r\n\r\nclass Group {\r\n  constructor() {\r\n    this.length = 0;\r\n\r\n    this.ids = {};\r\n    this.tags = {};\r\n    this.names = {};\r\n    this.types = {};\r\n  }\r\n\r\n  push(obj) {\r\n    var {name, tags, id} = obj;\r\n\r\n    name = name || (unidentified + unidentifiedCounter++);\r\n    id = id || (unidentified + unidentifiedCounter++);\r\n    tags = tags || [];\r\n\r\n    if (this.ids[id] != null || this.names[name] != null) {\r\n      Log.w(`An object with the name ${name} or id ${id} already exists`);\r\n      return;\r\n    }\r\n\r\n    var currentLength = Object.keys(this.ids);\r\n    this.ids[id] = obj;\r\n\r\n    Object.keys(this.tags).forEach(tag => {\r\n      this.tags[tag] = this.tags[tag] || [];\r\n      this.tags[tag].push(currentLength);\r\n    });\r\n\r\n    this.names[name] = this.length;\r\n\r\n    if (obj.type != null) {\r\n      this.types[obj.type] = this.types[obj.type] || [];\r\n      this.types[obj.type].push(currentLength);\r\n    }\r\n\r\n    this.length = this.values().length;\r\n    return this.length;\r\n  }\r\n\r\n  pop() {\r\n    var ids = Object.keys(this.ids);\r\n\r\n    for (var i = ids.length, j = 0; j > i; i--) {\r\n      var obj = this.ids[ids[i]];\r\n\r\n      if (obj != null) {\r\n        this.remove(i);\r\n        return obj;\r\n      }\r\n    }\r\n  }\r\n\r\n  values() {\r\n    return Object.keys(this.ids)\r\n      .filter(id => id != null)\r\n      .map(id => this.ids[id]);\r\n  }\r\n\r\n  all(filter) {\r\n    var objects = [];\r\n\r\n    var recurse = function(group) {\r\n      group.forEach(obj => {\r\n        if (filter) {\r\n          if (filter(obj)) {\r\n            objects.push(obj);\r\n          }\r\n        } else {\r\n          objects.push(obj);\r\n        }\r\n\r\n        if (obj.children && obj.children instanceof Group) {\r\n          recurse(obj.children);\r\n        }\r\n      });\r\n    };\r\n\r\n    recurse(this);\r\n\r\n    return objects;\r\n  }\r\n\r\n  forEach(callback) {\r\n    this.values().forEach(obj => callback(obj));\r\n  }\r\n\r\n  map(callback) {\r\n    var mappedArray = new Group();\r\n\r\n    this.forEach(obj => mappedArray.push(callback(obj)));\r\n\r\n    return mappedArray;\r\n  }\r\n\r\n  filter(callback) {\r\n    var filteredArray = new Group();\r\n\r\n    this.forEach(obj => {\r\n      if (callback(obj)) {\r\n        filteredArray.push(obj);\r\n      }\r\n    });\r\n\r\n    return filteredArray;\r\n  }\r\n\r\n  byType(type) {\r\n    return this.types[type].map(index => this[index]);\r\n  }\r\n\r\n  byName(name) {\r\n    var index = this.names[name];\r\n\r\n    return this.ids[Object.keys(this.ids)[index]];\r\n  }\r\n\r\n  byTag(tag) {\r\n    return this.tags[tag].map(index => this[index]);\r\n  }\r\n\r\n  first() {\r\n    return this.values()[0];\r\n  }\r\n\r\n  last() {\r\n    var values = this.values();\r\n\r\n    return values[values.length - 1];\r\n  }\r\n\r\n  find(selector) {\r\n    // TODO: There needs to be a parser here\r\n  }\r\n\r\n  toJSON() {\r\n    return this.values().map(child => {\r\n      if (child.toJSON && typeof child === 'function') {\r\n        return child.toJSON();\r\n      } else {\r\n        return child;\r\n      }\r\n    });\r\n  }\r\n\r\n  toString() {\r\n    return serialize.toString(this.toJSON());\r\n  }\r\n\r\n  static fromJSON(arr) {\r\n    var group = new Group();\r\n\r\n    arr.forEach(obj => group.push(obj));\r\n\r\n    return group;\r\n  }\r\n\r\n  static fromString(str) {\r\n    return Group.fromJSON(JSON.parse(str));\r\n  }\r\n\r\n  remove(index) {\r\n    var id = Object.keys(ids)[index];\r\n\r\n    var obj = this.ids[id];\r\n\r\n    if (obj == null) {\r\n      Log.w(`Object at ${index} does not exist`);\r\n    }\r\n\r\n    var {name, tags} = obj;\r\n\r\n    this.ids[id] = null;\r\n    this.names[name] = null;\r\n\r\n    this.tags.forEach(tag => {\r\n      var position = tag.indexOf(index);\r\n\r\n      if (position >= 0) {\r\n        if (tag.length === 1) {\r\n          this.tags[tag] = [];\r\n        } else {\r\n          this.tags[tag].splice(position, 1);\r\n        }\r\n      }\r\n    });\r\n\r\n    this.length = all().length;\r\n  }\r\n\r\n  removeByName(name) {\r\n    var index = this.names[name];\r\n    this.remove(index);\r\n  }\r\n\r\n  removeByTag(tags) {\r\n    if (!Array.isArray(tags)) {\r\n      tags = [tags];\r\n    }\r\n\r\n    tags.forEach(tag => {\r\n      this.tags[tag].forEach(index => this.remove(index));\r\n      this.tags = [];\r\n    });\r\n  }\r\n}\r\n\r\nexport default Group;\r\n","import Game from './game';\r\n\r\nimport GameObject from './gameobject';\r\nimport Scene from './scene';\r\nimport Behavior from './behavior';\r\n\r\nimport Renderer from './renderer';\r\n\r\nvar flockn = function flockn(descriptor) {\r\n  return new Game(descriptor);\r\n};\r\n\r\n// TODO: Comtemplate if this should be a property\r\nflockn.setRenderer = function(name) {\r\n  Renderer.use(name);\r\n};\r\n\r\nexport default flockn;\r\n","// These are things that might be moved into freezedev/gameboard\r\n\r\nimport {Vector2} from '../types';\r\n\r\nvar events = ['click', 'mousedown', 'mouseup', 'mouseover'];\r\n\r\nvar absolutePosition = function(event, rootElement) {\r\n  return new Vector2(event.pageX - rootElement.offsetLeft, event.pageY - rootElement.offsetTop);\r\n};\r\n\r\nvar relativePosition = function(event, rootElement, offset) {\r\n  // Normalize offset\r\n  var offsetVector = (Object.hasOwnProperty.call(offset, 'x') && Object.hasOwnProperty.call(offset, 'y')) ? offset : new Vector2(offset.left, offset.top);\r\n\r\n  return absolutePosition(event, rootElement).subtract(offsetVector);\r\n};\r\n\r\nexport {events, absolutePosition, relativePosition};\r\n","import Graphics from '../graphics';\r\n\r\nvar addable = function addable(Factory, groupInstance, extraFn) {\r\n\r\n  var adder = function adder(child, ...args) {\r\n\r\n    // I have decided against letting anything other through than functions and instance references\r\n    // I feel that it more complexity than it tried to solve and I had to handle some edge cases\r\n    // and more thorough type checking\r\n\r\n    if (!( child instanceof Factory)) {\r\n      if (typeof child !== 'function') {\r\n        throw new Error('A child has to be a function');\r\n      }\r\n\r\n      child = new Factory(child);\r\n    }\r\n       \r\n    groupInstance.push(child);\r\n    child.parent = this;\r\n\r\n    if (extraFn) {\r\n      extraFn.call(this, child);\r\n    }\r\n\r\n    Graphics.trigger('add', child);\r\n\r\n    // Only call apply if it's available. Models for example don't have one\r\n    if (child.apply) {\r\n      child.apply(args);\r\n    }\r\n\r\n    child.trigger('add', child, args);\r\n  };\r\n\r\n  return function() {\r\n    var args = [].slice.call(arguments);\r\n    args.unshift(this);\r\n\r\n    return adder.bind.apply(adder, args);\r\n  };\r\n\r\n};\r\n\r\nexport default addable;\r\n","import addable from './addable';\r\nimport renderable from './renderable';\r\nimport updateable from './updateable';\r\nimport serializable from './serializable';\r\n\r\nexport {addable, renderable, updateable, serializable};\r\n","import checkForFlag from '../utils/checkforflag';\r\nimport Graphics from '../graphics';\r\n\r\nvar isVisible = checkForFlag('visible');\r\n\r\nvar renderable = function renderable() {\r\n  this.on('render', () => {\r\n    // Only render if element is visible\r\n    if (!isVisible.call(this)) {\r\n      return;\r\n    }\r\n\r\n    // Emit `render` event on the `Graphics` object\r\n    Graphics.trigger('render', this);\r\n\r\n    // Render all children elements\r\n    this.children.forEach(child => child.trigger('render'));\r\n  });\r\n};\r\n\r\nexport default renderable;\r\n","import serialize from '../serialize';\r\n\r\nvar serializable = function serializable(Factory) {\r\n  Factory.prototype.toJSON = function() {\r\n    return serialize.toJSON(this);\r\n  };\r\n\r\n  Factory.prototype.toString = function() {\r\n    return serialize.toString(this);\r\n  };\r\n};\r\n\r\nexport default serializable;\r\n","import checkForFlag from '../utils/checkforflag';\r\n\r\nvar isStatic = checkForFlag('static');\r\n\r\n// TODO: This is not completely how I want it be as it only sets the children as static and not the element itself\r\n// TODO: Evaluate if it's a good idea if static elements shouldn't be able to interact with - similar to PIXI's\r\n//  interactive property\r\nvar updatable = function updateable() {\r\n  // Update all children\r\n  this.on('update', dt => {\r\n    if (!isStatic.call(this)) {\r\n      return;\r\n    }\r\n\r\n    this.children.forEach(child => {\r\n      if (child.update) {\r\n        child.trigger('update', dt);\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nexport default updatable;\r\n","import EventMap from 'eventmap';\r\nimport {serializable} from './mixins';\r\n\r\nclass Model extends EventMap {\r\n  constructor() {\r\n    super();\r\n\r\n    // Store attribute data\r\n    this.data = {};\r\n  }\r\n\r\n  get(name) {\r\n    // Get an attribute if it exists\r\n    if (Object.hasOwnProperty.call(this.data, name)) {\r\n      return this.data[name];\r\n    }\r\n  }\r\n\r\n  set(name, value) {\r\n    // Set or add an attribute\r\n    this.data[name] = value;\r\n    // Trigger the `change` event with `name` and `value` as its parameters\r\n    this.trigger('change', name, value);\r\n  }\r\n\r\n  bind() {\r\n\r\n  }\r\n\r\n  has(name) {\r\n    return Object.hasOwnProperty.call(this.data, name);\r\n  }\r\n}\r\n\r\nserializable(Model);\r\n\r\nexport default Model;\r\n","import Base from './base';\r\nimport GameObject from './gameobject';\r\n\r\nimport {addable, renderable, updateable, serializable} from './mixins';\r\n\r\n// A `Scene` instance is a layer for `GameObject` instances.\r\n// Any number of game objects can be added to a scene. Only one scene should be visible at the same time, depending\r\n// on what was set in the `activeScene` property of a `Game` instance.\r\nclass Scene extends Base {\r\n  constructor(descriptor) {\r\n    super('Scene', descriptor);\r\n\r\n    this.visible = true;\r\n\r\n    // Mix in `renderable` and `updateable`\r\n    renderable.call(this);\r\n    updateable.call(this);\r\n  }\r\n\r\n  addGameObject() {\r\n    // Allow game objects to be added to scenes\r\n    this.queue.push(addable(GameObject, this.children).apply(this, arguments));\r\n  }\r\n}\r\n\r\nserializable(Scene);\r\n\r\nexport default Scene;\r\n","class Selector {\n  constructor(selectorString) {\n    \n  }\n  \n  parse() {\n    \n  }\n}\n\nexport default Selector;\n","import EventMap from 'eventmap';\n\nvar serialize = {};\n\nserialize.json = {};\n\nserialize.json.filter = ['id', 'parent', 'audio', 'input', 'world', 'assetLoader'];\nserialize.json.defaultReplacer = [];\n\nserialize.json.defaultReplacer.push(function(key, value) {\n  if (key === 'events' && value instanceof EventMap) {\n    value = value.serialize();\n  }\n\n  return value;\n});\n\nserialize.json.defaultReplacer.push(function(key, value) {\n  // Convert image to Base64\n  if (value instanceof Image) {\n    let canvas = document.createElement('canvas');\n    let context = canvas.getContext('2d');\n    canvas.height = this.height;\n    canvas.width = this.width;\n    context.drawImage(this.data, 0, 0);\n    let dataURL = canvas.toDataURL('image/png');\n    canvas = null;\n\n    value = {\n      data: dataURL,\n      type: 'image/png'\n    };\n  }\n\n  return value;\n});\n\nserialize.json.defaultReplacer.push(function(key, value) {\n  if (value === null) {\n    return value;\n  }\n\n  if (value.toJSON && typeof value.toJSON === 'function') {\n    value = value.toJSON();\n  }\n\n  return value;\n});\n\nserialize.json.defaultReplacer.push(function(key, value) {\n  // Functions are not allowed expect for the descriptor\n  if (typeof value !== 'function') {\n    return value;\n  } else {\n    if (key === 'descriptor') {\n      return value;\n    }\n  }\n});\n\nserialize.toJSON = function(obj, replacer) {\n  var clonedObj = {};\n\n  var replacers = [].concat.apply([], [serialize.json.defaultReplacer, replacer]);\n  \n\n  for (var key in obj) {\n    (function(key, value) {\n      if (!Object.hasOwnProperty.call(obj, key)) {\n        return;\n      }\n\n      if (serialize.json.filter.indexOf(key) >= 0) {\n        return;\n      }\n\n      for (var i = 0, j = replacers.length; i < j; i++) {\n        (function(rep) {\n          if (rep) {\n            value = rep.call(obj, key, value);\n          }\n        })(replacers[i]);\n      }\n\n      if (typeof value !== 'undefined') {\n        clonedObj[key] = value;\n      }\n    })(key, obj[key]);\n  }\n\n  return clonedObj;\n};\n\nserialize.toString = function(obj) {\n  return JSON.stringify(serialize.toJSON(obj), function(key, value) {\n    // Functions that are still left should be stringified\n\n    if (typeof value === 'function') {\n      value = value.toString();\n    }\n\n    return value;\n  });\n};\n\nexport default serialize;\n","import {Color, Vector2} from '../types';\r\nimport serializable from '../mixins/serializable';\r\n\r\nclass TextureImage {\r\n  constructor(texture) {\r\n    // The default values for `image`\r\n    this.color = Color.transparent();\r\n    this.drawable = false;\r\n    this.offset = new Vector2(0, 0);\r\n    this.data = null;\r\n    this.width = 0;\r\n    this.height = 0;\r\n\r\n    var filename = '';\r\n\r\n    Object.defineProperty(this, 'filename', {\r\n      get: function () {\r\n        return filename;\r\n      },\r\n      set: function (value) {\r\n        filename = value;\r\n\r\n        // TODO: Most of this should already be handled by the preloader\r\n        var img = new Image();\r\n        img.src = filename;\r\n\r\n        img.onload = () => {\r\n          this.data = img;\r\n          this.width = img.width;\r\n          this.height = img.height;\r\n          this.drawable = true;\r\n\r\n          texture.trigger('image-loaded');\r\n        };\r\n      },\r\n      enumerable: true\r\n    });\r\n  }\r\n\r\n  toJSON() {\r\n    return serialize.toJSON(this);\r\n  }\r\n\r\n  toString() {\r\n    return serialize.toString(this);\r\n  }\r\n}\r\n\r\nserializable(TextureImage);\r\n\r\nexport default TextureImage;\r\n","import {Color} from '../types';\r\nimport EventMap from 'eventmap';\r\nimport TextureImage from './image';\r\nimport TextureLabel from './label';\r\nimport serializable from '../mixins/serializable';\r\n\r\nclass Texture extends EventMap {\r\n  constructor() {\r\n    super();\r\n\r\n    // Set up dimensions\r\n    this.width = 0;\r\n    this.height = 0;\r\n\r\n    // Set parent property\r\n    this.parent = null;\r\n\r\n    this.image = new TextureImage(this);\r\n    this.label = new TextureLabel(this);\r\n\r\n    this.backgroundColor = Color.transparent();\r\n\r\n    // TODO: What to do when there is both an image and a label\r\n    this.on('image-loaded', () => {\r\n      this.width = this.image.width;\r\n      this.height = this.image.height;\r\n    });\r\n\r\n    this.on('label-loaded', () => {\r\n      this.width = this.label.width;\r\n      this.height = this.label.height;\r\n    });\r\n  }\r\n}\r\n\r\nserializable(Texture);\r\n\r\nexport default Texture;\r\n","import {Color} from '../types';\r\nimport serializable from '../mixins/serializable';\r\n\r\nclass TextureLabel {\r\n  constructor(texture) {\r\n    // Default value for `label`\r\n    this.drawable = false;\r\n    this.font = {\r\n      size: 10,\r\n      name: 'Arial',\r\n      color: Color.black(),\r\n      decoration: []\r\n    };\r\n\r\n    this.align = {\r\n      x: 'center',\r\n      y: 'center'\r\n    };\r\n    this.width = 0;\r\n    this.height = 0;\r\n\r\n    var text = '';\r\n\r\n    Object.defineProperty(this, 'text', {\r\n      get: function () {\r\n        return text;\r\n      },\r\n      set: function (value) {\r\n        text = value;\r\n\r\n        // Calculate the size of the label and update the dimensions\r\n        // TODO: This should be handled somewhere else, but I'm not sure where\r\n        var tmpElem = document.createElement('div');\r\n        tmpElem.innerText = text;\r\n        tmpElem.style.position = 'absolute';\r\n        tmpElem.style.left = '-9999px';\r\n        tmpElem.style.top = '-9999px';\r\n        tmpElem.style.fontSize = this.font.size + 'px';\r\n        tmpElem.style.fontFamily = this.font.name;\r\n        tmpElem.style.color = this.font.color;\r\n\r\n        this.font.decoration.forEach(decoration => {\r\n          switch (decoration) {\r\n            case 'bold':\r\n              tmpElem.style.fontWeight = 'bold';\r\n              break;\r\n            case 'italic':\r\n              tmpElem.style.fontStyle = 'italic';\r\n              break;\r\n            case 'underline':\r\n              tmpElem.style.textDecoration = 'underline';\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        });\r\n\r\n        document.body.appendChild(tmpElem);\r\n\r\n        this.width = tmpElem.clientWidth;\r\n        this.height = tmpElem.clientHeight;\r\n        this.drawable = true;\r\n\r\n        document.body.removeChild(tmpElem);\r\n\r\n        texture.trigger('label-loaded');\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nserializable(TextureLabel);\r\n\r\nexport default TextureLabel;\r\n","import {Math, Types} from 'gamebox';\r\nimport colorConstants from '../constants/color';\r\n\r\nlet {Color} = Types;\r\n\r\nconst {clamp} = Math;\r\n\r\nfor (var colorName in colorConstants) {\r\n  var colorValue = colorConstants[colorName];\r\n\r\n  (function(colorName, colorValue) {\r\n    Color[colorName] = function() {\r\n      var col = new Color(colorValue.r, colorValue.g, colorValue.b, colorValue.a);\r\n      col.name = colorName;\r\n      return col;\r\n    };\r\n  })(colorName, colorValue);\r\n}\r\n\r\nexport default Color;\r\n","import Color from './color';\r\nimport {Types} from 'gamebox';\r\n\r\nTypes.Color = Color;\r\n\r\nexport default Types;\r\n","var checkForFlag = function checkForFlag(property) {\n  return function(obj) {\n    obj = obj || this;\n\n    var hasFlag = Object.hasOwnProperty.call(obj, property);\n\n    if (hasFlag) {\n      return obj[property];\n    } else {\n      return true;\n    }\n  };\n};\n\nexport default checkForFlag;\n","var Viewport = {};\n\nViewport.scale = {};\nViewport.scale.mode = 'scaleToFit';\nViewport.scale.x = 1.0;\nViewport.scale.y = 1.0;\n\nViewport.width = 800;\nViewport.height = 600;\n\nexport default Viewport;\n","import Model from './model';\r\n\r\n// `World` is an instance of a model\r\nvar world = new Model();\r\n\r\nexport default world;\r\n"]}