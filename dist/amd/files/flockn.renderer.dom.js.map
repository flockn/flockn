{"version":3,"sources":["src/renderer/dom.js"],"names":[],"mappings":"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","file":"dist/amd/files/flockn.renderer.dom.js","sourcesContent":["import Graphics from '../graphics';\nimport createRootElement from '../graphics/rootelement';\nimport * as mouse from '../input/mouse';\n\nlet factory = () => {\n  var root = window;\n\n  var pixelize = function (num) {\n    return num + 'px';\n  };\n\n  var unpixelize = function (str) {\n    return parseFloat(str) || 0;\n  };\n\n  Graphics.renderer = 'DOM';\n\n  var rootElement = null;\n\n  Graphics.on('initialize', function (Game) {\n    rootElement = createRootElement.call(Game, 'div', function (rootElement) {\n      rootElement.style.backgroundColor = this.color.toString();\n      rootElement.style.overflow = 'hidden';\n      rootElement.style.cursor = 'default';\n      rootElement.style.userSelect = rootElement.style.mozUserSelect = rootElement.style.webkitUserSelect = 'none';\n    });\n  });\n\n  Graphics.on('add', function (obj) {\n    // TODO: Models shouldn't be added to the DOM. Currently we do a check if has an id, but sometime in the\n    //  future they might have\n    if (!obj.id) {\n      return;\n    }\n    \n    var elementId = obj.id.toLowerCase();\n\n    // Remove previous elements of the same id\n    if (document.getElementById(elementId) != null) {\n      (function () {\n        var parentId = obj.parent.id.toLowerCase();\n\n        var parentElem = document.getElementById(parentId);\n        parentElem.removeChild(document.getElementById(elementId));\n      })();\n    }\n\n    var parent = obj.parent;\n\n    var parentElem = (function () {\n      if ((parent && parent.isRoot) || parent == null) {\n        return rootElement;\n      } else {\n        var parentId = obj.parent.id.toLowerCase();\n        var element = document.getElementById(parentId);\n        if (element == null) {\n          return rootElement;\n        } else {\n          return element;\n        }\n      }\n    })();\n\n    var element = document.createElement('div');\n    element.id = elementId;\n    element.className = [obj.type.toLowerCase(), obj.name.toLowerCase()].join(' ');\n    element.style.position = 'absolute';\n\n    switch (obj.type) {\n      case 'Scene':\n        element.style.width = pixelize(obj.parent.width);\n        element.style.height = pixelize(obj.parent.height);\n        break;\n      case 'GameObject':\n        element.style.left = pixelize(obj.position.x);\n        element.style.top = pixelize(obj.position.y);\n        element.style.width = pixelize(obj.width);\n        element.style.height = pixelize(obj.height);\n\n        mouse.events.forEach(function (eventName) {\n          root.addEventListener(eventName, function (evt) {\n            obj.trigger(mouse.relativePosition(evt, rootElement, obj));\n          });\n        });\n\n\n        // Mouseenter and Mouseleave are kinda special right now\n        root.addEventListener('mouseenter', function (evt) {\n          obj.trigger('mouseenter', evt);\n        }, true);\n\n        root.addEventListener('mouseleave', function (evt) {\n          obj.trigger('mouseleave', evt);\n        }, true);\n\n        break;\n      default:\n        break;\n    }\n\n    parentElem.appendChild(element);\n  });\n\n  Graphics.on('texture-image-loaded', function (obj, texture) {\n    var element = document.getElementById(obj.id.toLowerCase());\n\n    if (element != null) {\n      element.style.backgroundImage = 'url(' + texture.image.filename + ')';\n      element.style.width = pixelize(obj.width);\n      element.style.height = pixelize(obj.height);\n    }\n  });\n\n  Graphics.on('texture-label-loaded', function (obj, texture) {\n    var element = document.getElementById(obj.id.toLowerCase());\n\n    if (element != null) {\n      element.style.width = pixelize(obj.width);\n      element.style.height = pixelize(obj.height);\n    }\n  });\n\n  var dirtyObjects = {};\n\n  Graphics.after('render', function (obj) {\n    var objId = obj.id.toLowerCase();\n\n    dirtyObjects[objId] = obj;\n  });\n\n  Graphics.on('render', function (obj) {\n    var objId = obj.id.toLowerCase();\n\n    // Update element attributes\n    var element = document.getElementById(objId);\n\n    if (element != null) {\n      var prevObj = dirtyObjects[objId] || {};\n\n      switch (obj.type) {\n        case 'GameObject':\n          var elemVisible = element.style.display === 'block';\n\n          if (elemVisible !== obj.visible) {\n            element.style.display = (obj.visible) ? 'block' : 'hidden';\n          }\n\n          if (!elemVisible) {\n            return;\n          }\n\n          var elemX = unpixelize(element.style.left);\n          var elemY = unpixelize(element.style.top);\n          var elemWidth = unpixelize(element.style.width);\n          var elemHeight = unpixelize(element.style.height);\n\n          if (elemX !== obj.position.x) {\n            element.style.left = pixelize(obj.position.x);\n          }\n\n          if (elemY !== obj.position.y) {\n            element.style.top = pixelize(obj.position.y);\n          }\n\n          if (elemWidth !== obj.width) {\n            element.style.width = pixelize(obj.width);\n          }\n\n          if (elemHeight !== obj.height) {\n            element.style.height = pixelize(obj.height);\n          }\n\n          if (obj.angle) {\n            element.style.transform = element.style.mozTransform = element.style.webkitTransform = 'rotate(' + obj.angle + 'deg)';\n          }\n\n          if (obj.alpha !== 1) {\n            element.style.opacity = obj.alpha;\n          }\n\n          // Set background color\n          element.style.backgroundColor = obj.texture.backgroundColor.toString();\n\n          // Set origin\n          element.style.transformOrigin = element.style.mozTransformOrigin = element.webkitTransformOrigin = obj.origin.x + 'px ' + obj.origin.y + 'px';\n\n          // Set border\n          if (obj.border.width > 0) {\n            element.style.borderWidth = pixelize(obj.border.width);\n            element.style.borderStyle = 'solid';\n            element.style.borderColor = obj.border.color.toString();\n\n            if (obj.border.radius > 0) {\n              element.style.borderRadius = pixelize(obj.border.radius);\n            }\n          }\n\n          if (obj.texture.image.drawable) {\n            if (obj.texture.image.offset.x !== 0) {\n              element.style.backgroundPositionX = obj.texture.image.offset.x * (-1) + 'px';\n            }\n\n            if (obj.texture.image.offset.y !== 0) {\n              element.style.backgroundPositionY = obj.texture.image.offset.y * (-1) + 'px';\n            }\n          }\n\n          if (obj.texture.label.drawable) {\n            element.innerText = obj.texture.label.text;\n\n            element.style.whiteSpace = 'nowrap';\n\n            if (obj.texture.label.font.size) {\n              element.style.fontSize = pixelize(obj.texture.label.font.size);\n            }\n\n            if (obj.texture.label.font.color) {\n              element.style.color = obj.texture.label.font.color.toString();\n            }\n\n            if (obj.texture.label.font.name) {\n              element.style.fontFamily = obj.texture.label.font.name;\n            }\n\n            obj.texture.label.font.decoration.forEach(function (decoration) {\n              switch (decoration) {\n                case 'bold':\n                  element.style.fontWeight = 'bold';\n                  break;\n                case 'italic':\n                  element.style.fontStyle = 'italic';\n                  break;\n                case 'underline':\n                  element.style.textDecoration = 'underline';\n                  break;\n                default:\n                  break;\n              }\n            });\n          }\n\n          break;\n        case 'Scene':\n          var elemVisibleStyle = element.style.display;\n\n          if (obj.parent.activeScene !== obj.name) {\n            if (elemVisibleStyle !== 'hidden') {\n              element.style.display = 'hidden';\n            }\n          } else {\n            if (elemVisibleStyle !== 'block') {\n              element.style.display = 'block';\n            }\n          }\n          break;\n        default:\n          break;\n      }\n\n    }\n\n  });\n};\n\nexport default factory;\n"]}