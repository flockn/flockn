{"version":3,"sources":["src/renderer/dom.js"],"names":[],"mappings":"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","file":"dist/amd/files/flockn.renderer.dom.js","sourcesContent":["import Graphics from '../graphics';\r\nimport createRootElement from '../graphics/rootelement';\r\nimport * as mouse from '../input/mouse';\r\n\r\nlet factory = () => {\r\n  var root = window;\r\n\r\n  var pixelize = function (num) {\r\n    return num + 'px';\r\n  };\r\n\r\n  var unpixelize = function (str) {\r\n    return parseFloat(str) || 0;\r\n  };\r\n\r\n  Graphics.renderer = 'DOM';\r\n\r\n  var rootElement = null;\r\n\r\n  Graphics.on('initialize', function (Game) {\r\n    rootElement = createRootElement.call(Game, 'div', function (rootElement) {\r\n      rootElement.style.backgroundColor = this.color.toString();\r\n      rootElement.style.overflow = 'hidden';\r\n      rootElement.style.cursor = 'default';\r\n      rootElement.style.userSelect = rootElement.style.mozUserSelect = rootElement.style.webkitUserSelect = 'none';\r\n    });\r\n  });\r\n\r\n  Graphics.on('add', function (obj) {\r\n    // TODO: Models shouldn't be added to the DOM. Currently we do a check if has an id, but sometime in the\r\n    //  future they might have\r\n    if (!obj.id) {\r\n      return;\r\n    }\r\n    \r\n    var elementId = obj.id.toLowerCase();\r\n\r\n    // Remove previous elements of the same id\r\n    if (document.getElementById(elementId) != null) {\r\n      (function () {\r\n        var parentId = obj.parent.id.toLowerCase();\r\n\r\n        var parentElem = document.getElementById(parentId);\r\n        parentElem.removeChild(document.getElementById(elementId));\r\n      })();\r\n    }\r\n\r\n    var parent = obj.parent;\r\n\r\n    var parentElem = (function () {\r\n      if ((parent && parent.isRoot) || parent == null) {\r\n        return rootElement;\r\n      } else {\r\n        var parentId = obj.parent.id.toLowerCase();\r\n        var element = document.getElementById(parentId);\r\n        if (element == null) {\r\n          return rootElement;\r\n        } else {\r\n          return element;\r\n        }\r\n      }\r\n    })();\r\n\r\n    var element = document.createElement('div');\r\n    element.id = elementId;\r\n    element.className = [obj.type.toLowerCase(), obj.name.toLowerCase()].join(' ');\r\n    element.style.position = 'absolute';\r\n\r\n    switch (obj.type) {\r\n      case 'Scene':\r\n        element.style.width = pixelize(obj.parent.width);\r\n        element.style.height = pixelize(obj.parent.height);\r\n        break;\r\n      case 'GameObject':\r\n        element.style.left = pixelize(obj.position.x);\r\n        element.style.top = pixelize(obj.position.y);\r\n        element.style.width = pixelize(obj.width);\r\n        element.style.height = pixelize(obj.height);\r\n\r\n        mouse.events.forEach(function (eventName) {\r\n          root.addEventListener(eventName, function (evt) {\r\n            obj.trigger(mouse.relativePosition(evt, rootElement, obj));\r\n          });\r\n        });\r\n\r\n\r\n        // Mouseenter and Mouseleave are kinda special right now\r\n        root.addEventListener('mouseenter', function (evt) {\r\n          obj.trigger('mouseenter', evt);\r\n        }, true);\r\n\r\n        root.addEventListener('mouseleave', function (evt) {\r\n          obj.trigger('mouseleave', evt);\r\n        }, true);\r\n\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    parentElem.appendChild(element);\r\n  });\r\n\r\n  Graphics.on('texture-image-loaded', function (obj, texture) {\r\n    var element = document.getElementById(obj.id.toLowerCase());\r\n\r\n    if (element != null) {\r\n      element.style.backgroundImage = 'url(' + texture.image.filename + ')';\r\n      element.style.width = pixelize(obj.width);\r\n      element.style.height = pixelize(obj.height);\r\n    }\r\n  });\r\n\r\n  Graphics.on('texture-label-loaded', function (obj, texture) {\r\n    var element = document.getElementById(obj.id.toLowerCase());\r\n\r\n    if (element != null) {\r\n      element.style.width = pixelize(obj.width);\r\n      element.style.height = pixelize(obj.height);\r\n    }\r\n  });\r\n\r\n  var dirtyObjects = {};\r\n\r\n  Graphics.after('render', function (obj) {\r\n    var objId = obj.id.toLowerCase();\r\n\r\n    dirtyObjects[objId] = obj;\r\n  });\r\n\r\n  Graphics.on('render', function (obj) {\r\n    var objId = obj.id.toLowerCase();\r\n\r\n    // Update element attributes\r\n    var element = document.getElementById(objId);\r\n\r\n    if (element != null) {\r\n      var prevObj = dirtyObjects[objId] || {};\r\n\r\n      switch (obj.type) {\r\n        case 'GameObject':\r\n          var elemVisible = element.style.display === 'block';\r\n\r\n          if (elemVisible !== obj.visible) {\r\n            element.style.display = (obj.visible) ? 'block' : 'hidden';\r\n          }\r\n\r\n          if (!elemVisible) {\r\n            return;\r\n          }\r\n\r\n          var elemX = unpixelize(element.style.left);\r\n          var elemY = unpixelize(element.style.top);\r\n          var elemWidth = unpixelize(element.style.width);\r\n          var elemHeight = unpixelize(element.style.height);\r\n\r\n          if (elemX !== obj.position.x) {\r\n            element.style.left = pixelize(obj.position.x);\r\n          }\r\n\r\n          if (elemY !== obj.position.y) {\r\n            element.style.top = pixelize(obj.position.y);\r\n          }\r\n\r\n          if (elemWidth !== obj.width) {\r\n            element.style.width = pixelize(obj.width);\r\n          }\r\n\r\n          if (elemHeight !== obj.height) {\r\n            element.style.height = pixelize(obj.height);\r\n          }\r\n\r\n          if (obj.angle) {\r\n            element.style.transform = element.style.mozTransform = element.style.webkitTransform = 'rotate(' + obj.angle + 'deg)';\r\n          }\r\n\r\n          if (obj.alpha !== 1) {\r\n            element.style.opacity = obj.alpha;\r\n          }\r\n\r\n          // Set background color\r\n          element.style.backgroundColor = obj.texture.backgroundColor.toString();\r\n\r\n          // Set origin\r\n          element.style.transformOrigin = element.style.mozTransformOrigin = element.webkitTransformOrigin = obj.origin.x + 'px ' + obj.origin.y + 'px';\r\n\r\n          // Set border\r\n          if (obj.border.width > 0) {\r\n            element.style.borderWidth = pixelize(obj.border.width);\r\n            element.style.borderStyle = 'solid';\r\n            element.style.borderColor = obj.border.color.toString();\r\n\r\n            if (obj.border.radius > 0) {\r\n              element.style.borderRadius = pixelize(obj.border.radius);\r\n            }\r\n          }\r\n\r\n          if (obj.texture.image.drawable) {\r\n            if (obj.texture.image.offset.x !== 0) {\r\n              element.style.backgroundPositionX = obj.texture.image.offset.x * (-1) + 'px';\r\n            }\r\n\r\n            if (obj.texture.image.offset.y !== 0) {\r\n              element.style.backgroundPositionY = obj.texture.image.offset.y * (-1) + 'px';\r\n            }\r\n          }\r\n\r\n          if (obj.texture.label.drawable) {\r\n            element.innerText = obj.texture.label.text;\r\n\r\n            element.style.whiteSpace = 'nowrap';\r\n\r\n            if (obj.texture.label.font.size) {\r\n              element.style.fontSize = pixelize(obj.texture.label.font.size);\r\n            }\r\n\r\n            if (obj.texture.label.font.color) {\r\n              element.style.color = obj.texture.label.font.color.toString();\r\n            }\r\n\r\n            if (obj.texture.label.font.name) {\r\n              element.style.fontFamily = obj.texture.label.font.name;\r\n            }\r\n\r\n            obj.texture.label.font.decoration.forEach(function (decoration) {\r\n              switch (decoration) {\r\n                case 'bold':\r\n                  element.style.fontWeight = 'bold';\r\n                  break;\r\n                case 'italic':\r\n                  element.style.fontStyle = 'italic';\r\n                  break;\r\n                case 'underline':\r\n                  element.style.textDecoration = 'underline';\r\n                  break;\r\n                default:\r\n                  break;\r\n              }\r\n            });\r\n          }\r\n\r\n          break;\r\n        case 'Scene':\r\n          var elemVisibleStyle = element.style.display;\r\n\r\n          if (obj.parent.activeScene !== obj.name) {\r\n            if (elemVisibleStyle !== 'hidden') {\r\n              element.style.display = 'hidden';\r\n            }\r\n          } else {\r\n            if (elemVisibleStyle !== 'block') {\r\n              element.style.display = 'block';\r\n            }\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n    }\r\n\r\n  });\r\n};\r\n\r\nexport default factory;\r\n"]}